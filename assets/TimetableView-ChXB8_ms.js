import{o as _e,u as Y,a as Te,_ as xe}from"./FileUploadBlock-Qgf1xRFa.js";import{d as be,r as B,c as p,a as ke,n as Se,o as d,_ as ve,b as i,t as U,e as Ee,f as X,g as $,h as C,i as Ce,u as r,j as _,F as le,k as re,l as O,w as H,m as Ne,v as Pe,p as ne,q as Q,s as oe,T as Ae,x as Me,y as De,z as je}from"./index-BnRLuoRB.js";import{_ as Le,a as Ve,b as He}from"./InputNumber-DLh8h-5E.js";import{u as Re,_ as $e,a as Ie}from"./TimetableUploadSection-B3W9wmQz.js";import{n as ae}from"./nl-CiMRTCx0.js";import"./server-jGVXSnHF.js";const Ue=be({__name:"ContextMenu",props:{x:{},y:{}},emits:["click-outside"],setup(e,{emit:t}){const o=e,c=t,f=B(null);return _e(f,m=>c("click-outside",m)),(m,T)=>(d(),p("div",{class:"context-menu",ref_key:"target",ref:f,style:Se({top:o.y+"px",left:o.x+"px"})},[ke(m.$slots,"default")],4))}}),Oe={},Be={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 86 32"};function We(e,t){return d(),p("svg",Be,t[0]||(t[0]=[i("path",{d:"M84.122 31.066l-16.386-13.142c-0.104-0.081-0.235-0.126-0.37-0.125h-6.481l18.208-17.571c0.020-0.019 0.033-0.043 0.038-0.068s0.003-0.052-0.008-0.077c-0.011-0.024-0.029-0.045-0.052-0.060s-0.050-0.023-0.078-0.023h-9.589c-0.145 0.001-0.284 0.052-0.39 0.144l-10.95 9.714-6.747-5.635c-0.106-0.087-0.243-0.135-0.384-0.135h-9.439c-0.030-0-0.059 0.007-0.083 0.023s-0.044 0.037-0.055 0.063-0.014 0.054-0.008 0.081c0.006 0.027 0.021 0.052 0.043 0.071l7.828 7.1c0.053 0.049 0.115 0.088 0.184 0.115s0.142 0.040 0.217 0.039h6.11l-16.577 14.61c-0.021 0.019-0.035 0.043-0.041 0.069s-0.004 0.054 0.007 0.079c0.011 0.025 0.029 0.046 0.053 0.061s0.052 0.023 0.080 0.023h12.591c0.155-0.001 0.304-0.060 0.414-0.163l6.004-5.826 11.26 10.712c0.054 0.051 0.118 0.091 0.188 0.118s0.146 0.041 0.222 0.041h14.102c0.029-0 0.058-0.009 0.082-0.025s0.042-0.038 0.052-0.064c0.010-0.026 0.011-0.054 0.003-0.081s-0.024-0.050-0.047-0.068z"},null,-1),i("path",{d:"M15.204 25.811v-3.794h-14.275c-0.031 0-0.062-0.006-0.090-0.017s-0.054-0.028-0.076-0.048c-0.022-0.021-0.039-0.045-0.050-0.072s-0.017-0.056-0.017-0.085v-3.756c0-0.167 0.043-0.332 0.125-0.481s0.2-0.277 0.345-0.374l16.343-11.235c0.186-0.131 0.407-0.21 0.638-0.23s0.464 0.022 0.672 0.119 0.382 0.247 0.505 0.433c0.122 0.185 0.187 0.399 0.187 0.617v18.923zM14.917 12.209c-0.071-0-0.14 0.021-0.197 0.059l-8.222 5.575c-0.084 0.025-0.155 0.080-0.196 0.154s-0.049 0.16-0.023 0.239c0.027 0.079 0.086 0.145 0.164 0.184s0.17 0.046 0.255 0.021h8.569v-5.904c0-0.083-0.035-0.163-0.098-0.221s-0.147-0.092-0.236-0.092z"},null,-1),i("path",{d:"M40.013 9.194c-1.634-1.813-3.899-2.955-7.304-2.955h-8.429c-0.329 0.003-0.644 0.128-0.876 0.348s-0.362 0.516-0.362 0.826v13.902c0 0.311 0.132 0.61 0.366 0.83s0.553 0.344 0.884 0.344h8.422c2.608 0 4.94-0.651 6.921-2.548 1.445-1.441 2.281-3.327 2.352-5.305s-0.629-3.912-1.968-5.441zM36.818 17.299c-0.479 0.518-1.074 0.93-1.742 1.208s-1.393 0.413-2.124 0.398h-5.203c-0.056 0-0.112-0.010-0.164-0.030s-0.1-0.049-0.14-0.087c-0.040-0.037-0.072-0.082-0.093-0.13s-0.033-0.101-0.033-0.154v-8.174c0-0.053 0.011-0.105 0.033-0.154s0.053-0.093 0.093-0.13c0.040-0.037 0.087-0.067 0.14-0.087s0.108-0.030 0.164-0.030h5.197c0.739-0.023 1.474 0.11 2.152 0.388s1.28 0.696 1.764 1.221c0.718 0.801 1.113 1.814 1.117 2.861-0.018 1.068-0.431 2.097-1.167 2.911z"},null,-1)]))}const Fe=ve(Oe,[["render",We]]);var ze=Object.defineProperty,de=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,ue=(e,t,o)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,ce=(e,t)=>{for(var o in t||(t={}))Ge.call(t,o)&&ue(e,o,t[o]);if(de)for(var o of de(t))Xe.call(t,o)&&ue(e,o,t[o]);return e},Z=(e,t,o)=>new Promise((c,f)=>{var m=g=>{try{h(o.next(g))}catch(u){f(u)}},T=g=>{try{h(o.throw(g))}catch(u){f(u)}},h=g=>g.done?c(g.value):Promise.resolve(g.value).then(m,T);h((o=o.apply(e,t)).next())});function se(e){return!!e.shadowRoot}let me=!1;function Ye(){if(me)return;class e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}}customElements.define("vue-to-print-shadow-dom",e),me=!0}const qe=`
  class VueToPrintShadowDom extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({ mode: 'open' });
    }
  }
  customElements.define('vue-to-print-shadow-dom', VueToPrintShadowDom);
`;function Ze(e){const t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("vue-to-print-custom-script","registry-shadow-dom"),t.innerHTML=qe,e.body.appendChild(t)}const Je=`
  function retrieveStyleSheets(styleSheetMap) {
    styleSheetMap.forEach((styleSheetStrings, tagName) => {
      const styleSheets = [];
      for (let i = styleSheetStrings.length; i--;) {
        const styleSheet = new CSSStyleSheet();
        styleSheet.replaceSync(styleSheetStrings[i]);
        styleSheets.push(styleSheet);
      }

      const elements = document.querySelectorAll('vue-to-print-shadow-dom[original-tag-name=' + tagName + ']');
      for (let i = elements.length; i--;) {
        const element = elements[i];
        element.shadowRoot.adoptedStyleSheets = styleSheets;
      }
    });
  }
`;function Ke(e){const t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("vue-to-print-custom-script","registry-retrieve-style-sheets-func"),t.innerHTML=Je,e.body.appendChild(t)}const q=new Map;function pe(e){Ye();const t=e.nodeName.toLowerCase(),o=e.shadowRoot.adoptedStyleSheets,c=document.createElement("vue-to-print-shadow-dom");c.setAttribute("original-tag-name",t),q.has(t)||q.set(t,new Set);const f=q.get(t);for(let h=o.length;h--;)f.add(o[h]);const m=c.attributes,T=e.attributes;for(let h=T.length;h--;)m.setNamedItem(T[h].cloneNode());return c}function Qe(){const e=new Map,t=new Map,o=Array.from(q.keys());for(let c=o.length;c--;){const f=[],m=o[c],T=Array.from(q.get(m));for(let h=T.length;h--;){const g=T[h];if(!t.has(g)){let u="";const l=Array.from(g.cssRules);for(let a=l.length;a--;)u+=l[a].cssText;t.set(g,u)}f.push(t.get(g))}e.set(m,f)}return e}function et(e){const t=e.contentWindow||null;if(!t)throw new Error("Cannot access print window");const o=t.document;if(!o)throw new Error("Cannot access print document");Ze(o),Ke(o);const c=Qe();t.retrieveStyleSheets(c)}function fe(e){return!!customElements.get(e.nodeName.toLowerCase())}let he=!1;function tt(){if(he)return;class e extends HTMLElement{constructor(){super()}}customElements.define("vue-to-print-custom-element",e),he=!0}function ge(e){tt();const t=e.nodeName.toLowerCase(),o=document.createElement("vue-to-print-custom-element");o.setAttribute("original-tag-name",t);const c=o.attributes,f=e.attributes;for(let m=f.length;m--;)c.setNamedItem(f[m].cloneNode());return o}function we(e){return Z(this,null,function*(){e.getAttribute("src")&&(e.complete||(yield new Promise((t,o)=>{e.addEventListener("load",t,{once:!0}),e.addEventListener("error",c=>o(c.error),{once:!0})})))})}function nt(e){return Z(this,null,function*(){e.readyState>=2||(yield new Promise((t,o)=>{e.addEventListener("loadeddata",t,{once:!0}),e.addEventListener("error",c=>o(c.error),{once:!0}),e.addEventListener("stalled",()=>o(new Error("Loading video stalled, skipping")),{once:!0})}))})}function ot(e){const t=e.cloneNode(),o=t.getContext("2d");return o&&o.drawImage(e,0,0),t}function st(e,t){const o=e.cloneNode();return t.push(we(o)),o}function it(e,t){const o=e.cloneNode();o.preload="auto";const c=o.getAttribute("poster");if(c){const f=new Image;f.src=c,t.push(we(f))}else t.push(nt(o));return o}function lt(e){const t=e.cloneNode();switch(e.type){case"checkbox":case"radio":t.checked=e.checked;break;default:t.value=e.value;break}return t}function rt(e){const t=e.cloneNode();return t.value=e.value,t}function at(e){const t=e.cloneNode();return t.selected=e.selected,t}const ye=new Map([["canvas",ot],["img",st],["video",it],["input",lt],["select",rt],["option",at]]);function dt(e){return e.cloneNode()}function ut(e,t=[]){const o=e.nodeName.toLowerCase();return(ye.has(o)?ye.get(o):dt)(e,t)}function ct(e){var t;if(e.nodeName.toLowerCase()==="slot"){const o=e.assignedNodes();return o.length>0?o:Array.from(e.childNodes)}else return Array.from(((t=e.shadowRoot)!=null?t:e).childNodes)}function mt(e){return Z(this,null,function*(){const t=new Map,o=[];let c;se(e)?c=pe(e):fe(e)?c=ge(e):c=e.cloneNode(),t.set(e,c);const f=[e];for(;f.length;){const m=f.shift(),T=ct(m);if(T.length<=0)continue;const h=t.get(m),g=se(h)?h.shadowRoot:h;for(let u=0;u<T.length;u++){const l=T[u];let a;se(l)?a=pe(l):fe(l)?a=ge(l):a=ut(l,o),t.set(l,a),f.push(l),g.appendChild(a)}}return{node:c,result:yield Promise.allSettled(o)}})}const pt={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1};function ft(e){e=ce(ce({},pt),e);let t=0,o=[],c=[];const f=l=>{const a=e.onAfterPrint,k=e.onPrintError,N=e.print,D=U(e.documentTitle);setTimeout(()=>{var P,L;if(l.contentWindow)if(l.contentWindow.focus(),N)Promise.resolve(N(l)).then(()=>a==null?void 0:a()).then(()=>g()).catch(b=>{k?k("print",b):u(["An error was thrown by the specified `print` function"])});else{if(l.contentWindow.print){const b=(L=(P=l.contentDocument)==null?void 0:P.title)!=null?L:"",F=l.ownerDocument.title;D&&(l.ownerDocument.title=D,l.contentDocument&&(l.contentDocument.title=D)),l.contentWindow.print(),D&&(l.ownerDocument.title=F,l.contentDocument&&(l.contentDocument.title=b))}else u(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);a==null||a(),g()}else u(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `vue-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},m=l=>{const a=e.onBeforePrint,k=e.onPrintError;if(a){const N=a();N&&typeof N.then=="function"?N.then(()=>{f(l)}).catch(D=>{k&&k("onBeforePrint",D)}):f(l)}else f(l)},T=()=>{const l=e.onBeforeGetContent,a=e.onPrintError;if(l){const k=l();k&&typeof k.then=="function"?k.then(h).catch(N=>{a&&a("onBeforeGetContent",N)}):h()}else h()},h=()=>Z(this,null,function*(){const l=U(e.bodyClass),a=U(e.content),k=U(e.copyStyles),N=U(e.fonts),D=U(e.pageStyle),P=U(e.nonce);let L;if(a instanceof HTMLElement?L=a:a.$el&&(L=a.$el.nodeName==="#text"?a.$el.parentElement:a.$el),L===void 0){u(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"]);return}if(L===null){u(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "vue-to-print" to be called.']);return}const b=document.createElement("iframe");b.width=`${document.documentElement.clientWidth}px`,b.height=`${document.documentElement.clientHeight}px`,b.style.position="absolute",b.style.top=`-${document.documentElement.clientHeight+100}px`,b.style.left=`-${document.documentElement.clientWidth+100}px`,b.id="printWindow",b.srcdoc="<!DOCTYPE html>";const F=L;if(!F){u(['"vue-to-print" could not locate the DOM node corresponding with the `content` prop']);return}const{node:I,result:ee}=yield mt(F);for(const n of ee)n.status!=="fulfilled"&&u(["An error occurred while cloning the content to print. Printing will continue, but some content may be missing.",`Error: ${n.reason}`],"warning");const te=document.querySelectorAll("link[rel~='stylesheet']"),J=N?N.length:0;t=te.length+J,o=[],c=[];const S=(n,M)=>{if(o.includes(n)){u(["Tried to mark a resource that has already been handled",n],"debug");return}M?(u(['"vue-to-print" was unable to load a resource but will continue attempting to print the page',...M]),c.push(n)):o.push(n),o.length+c.length===t&&m(b)};b.onload=()=>Z(this,null,function*(){var n,M;b.onload=null;const v=b.contentDocument||((n=b.contentWindow)==null?void 0:n.document);if(v){v.body.appendChild(I),N&&((M=b.contentDocument)!=null&&M.fonts&&typeof FontFace<"u"?N.forEach(x=>{const A=new FontFace(x.family,x.source,{weight:x.weight,style:x.style});b.contentDocument.fonts.add(A),A.loaded.then(()=>{S(A)}).catch(W=>{S(A,["Failed loading the font:",A,"Load error:",W])})}):(N.forEach(x=>S(x)),u(['"vue-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));const w=typeof D=="function"?D():D;if(typeof w!="string")u([`"vue-to-print" expected a "string" from \`pageStyle\` but received "${typeof w}". Styles from \`pageStyle\` will not be applied.`]);else{const x=v.createElement("style");P&&(x.setAttribute("nonce",P),v.head.setAttribute("nonce",P)),x.appendChild(v.createTextNode(w)),v.head.appendChild(x)}if(l&&v.body.classList.add(...l.split(" ")),k){const x=document.querySelectorAll("style, link[rel~='stylesheet']");for(let A=0,W=x.length;A<W;++A){const y=x[A];if(y.tagName.toLowerCase()==="style"){const E=v.createElement(y.tagName),V=y.sheet;if(V){let z="";try{const R=V.cssRules.length;for(let s=0;s<R;++s)typeof V.cssRules[s].cssText=="string"&&(z+=`${V.cssRules[s].cssText}\r
`)}catch{u(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",y],"warning")}E.setAttribute("id",`vue-to-print-${A}`),P&&E.setAttribute("nonce",P),E.appendChild(v.createTextNode(z)),v.head.appendChild(E)}}else if(y.getAttribute("href"))if(y.hasAttribute("disabled"))u(["`vue-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",y],"warning"),S(y);else{const E=v.createElement(y.tagName);for(let V=0,z=y.attributes.length;V<z;++V){const R=y.attributes[V];R&&E.setAttribute(R.nodeName,R.nodeValue||"")}E.onload=()=>S(E),E.onerror=(V,z,R,s,j)=>S(E,["Failed to load",E,"Error:",j]),P&&E.setAttribute("nonce",P),v.head.appendChild(E)}else u(["`vue-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",y],"warning"),S(y)}}}et(b),(t===0||!k)&&m(b)}),g(!0),document.body.appendChild(b)}),g=l=>{const a=U(e.removeAfterPrint);if(l||a){const k=document.getElementById("printWindow");k&&document.body.removeChild(k)}},u=(l,a="error")=>{U(e.suppressErrors)||(a==="error"?console.error(l):a==="warning"?console.warn(l):a==="debug"&&console.debug(l))};return{handlePrint:T}}const ht={id:"edit"},gt={class:"flex",style:{"flex-wrap":"wrap-reverse"}},yt={style:{"flex-basis":"calc(210mm + 16px)"}},bt={key:0,class:"header"},vt={class:"timetable",spellcheck:"false"},wt={key:0,span:"1",style:{width:"0"}},_t={key:1,span:"1",style:{width:"0"}},Tt={key:2,span:"1",style:{width:"0"}},xt={key:0,nowrap:"",contenteditable:""},kt={key:1,nowrap:"",contenteditable:""},St={key:2,nowrap:"",contenteditable:""},Et=["onContextmenu"],Ct={nowrap:"",contenteditable:""},Nt={nowrap:"",contenteditable:""},Pt={key:0,nowrap:"",contenteditable:"",class:"translucent"},At={nowrap:""},Mt={key:1,class:"double-usherout"},Dt={key:2,class:"long-gap"},jt={key:3,class:"plf-overlap"},Lt={contenteditable:"",class:"credits-time"},Vt={key:0,class:"post-credits"},Ht={key:1,nowrap:"",contenteditable:"",class:"translucent"},Rt={key:2,nowrap:"",contenteditable:"",class:"translucent",style:{"font-weight":"normal","font-style":"normal"}},$t={key:3,nowrap:"",contenteditable:""},It={style:{float:"right"}},Ut={key:4,nowrap:"",contenteditable:""},Ot={class:"footer"},Bt={key:0},Wt={key:1,id:"upload-hint"},Ft={key:0},zt={key:0},Gt={key:1},Xt={key:0},Yt={key:1},qt={class:"buttons",style:{display:"flex","flex-direction":"column",gap:"16px","align-items":"stretch","margin-top":"auto",position:"sticky",bottom:"0",padding:"16px"}},Zt={key:0,class:"dropzone"},Jt=be({__name:"TimetableView",setup(e){var J;const t=Re(),o={mainTime:{header:"Start",title:"Start hoofdfilm",optional:!0},endTime:{header:"Einde",title:"Einde voorstelling",optional:!0},nextStartTime:{header:"Volgende",title:"Volgende inloop",optional:!0}},c=Object.fromEntries(Object.entries(o).filter(([,S])=>S.optional)),f=B(!0),m=Y("optional-columns",{mainTime:!1,endTime:!1,nextStartTime:!1}),T=Y("plf-time-before",17),h=Y("short-gap-interval",10),g=Y("long-gap-interval",35),u=Y("post-credits-films",new Set);for(;u.value.size>20;)u.value.delete(Array.from(u.value)[0]);const l=B(null),a=B(null),k=B(!1),N=B(0),D=B(0),P=B({}),L=B(0);function b(S,n,M){S.preventDefault(),document.activeElement.blur(),k.value=!0,P.value=n,L.value=M,N.value=S.clientX,D.value=S.clientY}function F(){Me(()=>k.value=!1)}const I=Ee(()=>{var n;let S=((n=t.table)==null?void 0:n.slice().map((M,v)=>{var x,A,W;let w=M;return w.overlapWithPlf=t.table.filter(y=>{var E;return(E=y.auditorium)==null?void 0:E.includes("4DX")}).some(y=>w.creditsTime.getTime()-y.scheduledTime.getTime()>=T.value*-6e4&&w.creditsTime.getTime()-(y.mainShowTime?y.mainShowTime.getTime():y.showTime.getTime()+9e5)<=0),w.hasPostCredits=u.value.has((x=w.title)==null?void 0:x.trim()),w.timeToNextUsherout=((A=t.table[v+1])==null?void 0:A.creditsTime.getTime())-(w.hasPostCredits?w.endTime:w.creditsTime).getTime(),w.nextStartTime=(W=t.table.find((y,E)=>E>v&&y.auditorium===w.auditorium))==null?void 0:W.scheduledTime,w}))||[];return S.filter(M=>{var v;return(v=M.auditorium)==null?void 0:v.includes("4DX")}).forEach(M=>{let v=0;for(let w=0;w<S.length;w++)if(S[w].creditsTime.getTime()-M.scheduledTime.getTime()>0){v=w;break}S[Math.max(v,0)].isNearPlf=!0}),S||[]}),{handlePrint:ee}=ft({content:()=>l.value,documentTitle:"Tijdenlijstje "+X(((J=I.value[0])==null?void 0:J.scheduledTime)||new Date,"yyyy-MM-dd",{locale:ae})}),{isOverDropZone:te}=Te(a,{onDrop:t.filesUploaded,multiple:!1});return(S,n)=>{var R;const M=Ce,v=$e,w=Fe,x=He,A=Ie,W=Ve,y=Le,E=De,V=xe,z=Ue;return d(),p("main",{ref_key:"main",ref:a},[$(M),$(v),i("section",ht,[i("div",gt,[i("div",yt,[n[17]||(n[17]=i("h2",null,"Tijdenlijstje bewerken",-1)),I.value.length>0?(d(),p("div",{key:0,id:"print-component",ref_key:"printComponent",ref:l},["flags"in r(t).metadata?(d(),p("div",bt,_(r(t).metadata.flags.includes("times-only")?"datum onbekend":r(X)(((R=I.value[0])==null?void 0:R.scheduledTime)||0,"PPPP",{locale:r(ae)})),1)):C("",!0),i("table",vt,[i("colgroup",null,[n[5]||(n[5]=i("col",{span:"1",style:{width:"0"}},null,-1)),n[6]||(n[6]=i("col",{span:"1",style:{width:"25%"}},null,-1)),r(m).mainTime?(d(),p("col",wt)):C("",!0),n[7]||(n[7]=i("col",{span:"1",style:{width:"20%"}},null,-1)),r(m).endTime?(d(),p("col",_t)):C("",!0),r(m).nextStartTime?(d(),p("col",Tt)):C("",!0),n[8]||(n[8]=i("col",{span:"1",style:{width:"50%"}},null,-1)),n[9]||(n[9]=i("col",{span:"1",style:{width:"0"}},null,-1))]),i("thead",null,[i("tr",null,[n[10]||(n[10]=i("td",{nowrap:"",contenteditable:"",width:"1px"},"Zaal",-1)),n[11]||(n[11]=i("td",{nowrap:"",contenteditable:""},"Inloop",-1)),r(m).mainTime?(d(),p("td",xt,_(o.mainTime.header),1)):C("",!0),n[12]||(n[12]=i("td",{nowrap:"",contenteditable:""},"Aftiteling",-1)),r(m).endTime?(d(),p("td",kt,_(o.endTime.header),1)):C("",!0),r(m).nextStartTime?(d(),p("td",St,_(o.nextStartTime.header),1)):C("",!0),n[13]||(n[13]=i("td",{nowrap:"",contenteditable:""},"Film",-1)),n[14]||(n[14]=i("td",{nowrap:"",contenteditable:""},null,-1))])]),(d(!0),p(le,null,re(I.value,(s,j)=>{var G;return d(),p("tr",{class:oe({targeting:k.value&&L.value===j,italic:(G=s.auditorium)==null?void 0:G.includes("4DX"),bold:s.featureRating==="16"||s.featureRating==="18"}),onContextmenu:je(K=>b(K,s,j),["prevent"])},[i("td",Ct,_(s.auditorium==="Rooftop"?"RT":s.auditorium.replace(/^\w+\s/,"")),1),i("td",Nt,_(r(X)(s.scheduledTime,"HH:mm")),1),r(m).mainTime?(d(),p("td",Pt,_(r(X)(s.mainShowTime||s.intermissionTime||0,"HH:mm:ss")),1)):C("",!0),i("td",At,[s.isNearPlf?(d(),Q(w,{key:0,class:"plf-icon",src:"@/assets/symbols/icon-4dx.svg"})):C("",!0),s.timeToNextUsherout<=r(h)*6e4?(d(),p("div",Mt)):C("",!0),s.timeToNextUsherout>=r(g)*6e4&&r(g)>0?(d(),p("div",Dt)):C("",!0),s.overlapWithPlf?(d(),p("div",jt)):C("",!0),i("span",Lt,[O(_(r(X)(s.creditsTime,"HH:mm:ss"))+" ",1),s.hasPostCredits?(d(),p("span",Vt,"+"+_(Math.round((s.endTime.getTime()-s.creditsTime.getTime())/6e4)),1)):C("",!0)])]),r(m).endTime?(d(),p("td",Ht,_(r(X)(s.endTime,"HH:mm:ss")),1)):C("",!0),r(m).nextStartTime?(d(),p("td",Rt,_(s.nextStartTime?r(X)(s.nextStartTime,"HH:mm"):"-"),1)):C("",!0),f.value?(d(),p("td",$t,[i("span",null,_(s.title),1),i("span",It,_(s.extras.join(" ")),1)])):(d(),p("td",Ut,_(s.playlist),1)),i("td",{nowrap:"",contenteditable:"",class:oe(["age-rating",{translucent:["AL","6","9","12","14"].includes(s.featureRating)}])},_(s.featureRating),3)],42,Et)}),256))]),n[15]||(n[15]=i("br",null,null,-1)),n[16]||(n[16]=i("span",{class:"custom-content",contenteditable:""},null,-1)),i("div",Ot,["lastModified"in r(t).metadata?(d(),p("span",Bt," Gegevens: "+_(new Date(r(t).metadata.lastModified).toLocaleString("nl-NL",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}))+" • ",1)):C("",!0),O(" Gegenereerd: "+_(new Date().toLocaleDateString("nl-NL",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}))+" • Pathé Tools • Quinten Althues ",1)])],512)):(d(),p("p",Wt,"Upload eerst een bestand."))]),$(V,{style:{"flex-basis":"355px"}},{default:H(()=>[$(y,null,{default:H(()=>[$(W,{value:"Opties"},{default:H(()=>[Ne(i("fieldset",null,[n[19]||(n[19]=i("legend",null,"4DX-inloop",-1)),n[20]||(n[20]=i("small",null,"Uitlopen tijdens de 4DX-inloop worden gemarkeerd met een streeplijntje.",-1)),$(x,{modelValue:r(T),"onUpdate:modelValue":n[0]||(n[0]=s=>ne(T)?T.value=s:null),modelModifiers:{number:!0},identifier:"plfTimeBefore",min:"0",max:"30",unit:"min"},{default:H(()=>[n[18]||(n[18]=O(" Tijd voor aanvang ")),r(T)>0?(d(),p("small",Ft,"De 4DX-inloop begint "+_(r(T))+" minuten voor de aanvangstijd en eindigt wanneer de hoofdfilm begint.",1)):C("",!0)]),_:1,__:[18]},8,["modelValue"])],512),[[Pe,!(I.value.length>0&&!I.value.some(s=>{var j;return(j=s.auditorium)==null?void 0:j.includes("4DX")}))]]),i("fieldset",null,[n[23]||(n[23]=i("legend",null,"Uitloop",-1)),$(x,{modelValue:r(h),"onUpdate:modelValue":n[1]||(n[1]=s=>ne(h)?h.value=s:null),modelModifiers:{number:!0},identifier:"shortGapInterval",min:"0",max:"20",unit:"min"},{default:H(()=>[n[21]||(n[21]=O("Interval voor dubbele uitloop ")),r(h)>0?(d(),p("small",zt," Uitlopen met minder dan "+_(r(h))+" minuten ertussen krijgen een boogje ",1)):(d(),p("small",Gt,"Uitlopen met weinig tijd ertussen worden niet gemarkeerd"))]),_:1,__:[21]},8,["modelValue"]),$(x,{modelValue:r(g),"onUpdate:modelValue":n[2]||(n[2]=s=>ne(g)?g.value=s:null),modelModifiers:{number:!0},identifier:"longGapInterval",min:"20",max:"80",unit:"min"},{default:H(()=>[n[22]||(n[22]=O("Interval voor gat tussen uitlopen ")),r(g)>0?(d(),p("small",Xt,"Gaten van meer dan "+_(r(g))+" minuten krijgen een stippellijntje ",1)):(d(),p("small",Yt,"Uitlopen met veel tijd ertussen worden niet gemarkeerd"))]),_:1,__:[22]},8,["modelValue"]),n[24]||(n[24]=i("small",null," Bij uitlopen met post-credits-scènes wordt de tijd 'Einde voorstelling' gebruikt voor het berekenen van de tijd tot de volgende uitloop. ",-1))]),i("fieldset",null,[n[26]||(n[26]=i("legend",null,"Overig",-1)),$(A,{modelValue:f.value,"onUpdate:modelValue":n[3]||(n[3]=s=>f.value=s),identifier:"splitExtra"},{default:H(()=>n[25]||(n[25]=[O(" Extra informatie scheiden van filmtitel ")])),_:1,__:[25]},8,["modelValue"])]),i("fieldset",null,[n[27]||(n[27]=i("legend",null,"Extra kolommen",-1)),(d(!0),p(le,null,re(r(c),(s,j)=>(d(),Q(A,{modelValue:r(m)[j],"onUpdate:modelValue":G=>r(m)[j]=G,identifier:String(j)},{default:H(()=>[O(_(o[j].title),1)]),_:2},1032,["modelValue","onUpdate:modelValue","identifier"]))),256))])]),_:1})]),_:1}),i("div",qt,[I.value.length>0?(d(),Q(E,{key:0,class:"primary full",onClick:r(ee)},{default:H(()=>n[28]||(n[28]=[O(" Afdrukken")])),_:1,__:[28]},8,["onClick"])):C("",!0)])]),_:1})])]),$(Ae,null,{default:H(()=>[k.value?(d(),Q(z,{key:0,class:"dark",x:N.value,y:D.value,onClickOutside:F},{default:H(()=>{var s;return[i("button",{onClick:n[4]||(n[4]=j=>{var G,K,ie;r(u).has((G=P.value.title)==null?void 0:G.trim())?r(u).delete((K=P.value.title)==null?void 0:K.trim()):r(u).add((ie=P.value.title)==null?void 0:ie.trim()),F()})},[i("div",{class:oe(["check",{empty:!r(u).has((s=P.value.title)==null?void 0:s.trim())}])},null,2),O(" Post-credits-scène bij "+_(P.value.title),1)])]}),_:1},8,["x","y"])):C("",!0)]),_:1}),r(te)?(d(),p("div",Zt," Laat los om bestand te uploaden ")):C("",!0)],512)}}}),sn=ve(Jt,[["__scopeId","data-v-11641a6b"]]);export{sn as default};
