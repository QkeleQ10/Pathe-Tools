import{u as w,_ as b}from"./TimetableUploadSection-DwIl8jNR.js";import{d as v,b as x,f as c,r as y,c as d,e as m,h as o,g,_ as h,k as r,i as u,u as p,o as _,x as k}from"./index-BUEC_4my.js";import{a as T}from"./FileUploadBlock-DiOcObx7.js";import"./server-DqPGauTo.js";import"./nl-DGEYiPft.js";const N={class:"flex",style:{"flex-wrap":"wrap-reverse"}},D={style:{flex:"100% 1 1"}},S={class:"block"},X={class:"block"},U={key:0,class:"dropzone"},V=v({__name:"NarrowcastingView",setup(L){const t=w();t.$subscribe(()=>{var s;const l=window.narrowcastXml;if(window.datadump=t.table,window.narrowcastXml=n.value,!((s=t.table)!=null&&s.length)||n.value.length<10||l===window.narrowcastXml)return;const e=new Blob([n.value],{type:"text/plain"}),a=document.createElement("a");a.href=URL.createObjectURL(e),a.download="data.txt",a.click(),URL.revokeObjectURL(a.href)});const n=x(()=>{return`<xml>${t.table.map(l).join("")}</xml>`;function l(e){return`<Show><Title>${e.playlist}</Title><Date>${c(e.scheduledTime,"yyyy-MM-dd")}</Date><Time>${c(e.scheduledTime,"hh:mm:ss")}</Time></Show>`}}),i=y(null),{isOverDropZone:f}=T(i,{onDrop:t.filesUploaded,multiple:!1});return(l,e)=>{const a=h,s=b;return _(),d("main",{ref_key:"main",ref:i},[m(a),m(s),o("section",null,[o("div",N,[o("div",D,[e[0]||(e[0]=o("h2",null,"Datadump",-1)),e[1]||(e[1]=o("p",null,[r("Aangeboden als array in publieke variabele "),o("code",null,"datadump"),r(" en als pseudo-xml-string in publieke variabele "),o("code",null,"narrowcastXml"),r(". ")],-1)),o("div",S,[o("code",null,u(JSON.stringify(p(t).table)),1)]),e[2]||(e[2]=o("br",null,null,-1)),o("div",X,[o("code",null,u(n.value),1)])])])]),p(f)?(_(),d("div",U," Laat los om bestand te uploaden ")):g("",!0)],512)}}}),C=k(V,[["__scopeId","data-v-8c0d8f1a"]]);export{C as default};
