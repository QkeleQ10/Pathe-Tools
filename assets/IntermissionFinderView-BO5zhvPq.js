import{_ as Ge,a as Xe,b as qe,c as Ye}from"./InputNumber-BupQlrEv.js";import{_ as He}from"./Chip-O_CR-wFN.js";import{M as ze,r as ve,d as We,c as L,o as w,g as $,u as j,w as z,l as I,b as N,j as C,f as $e,_ as Be,e as te,i as Qe,h as se,C as Je,s as De,q as me,F as de,k as Ce,n as Ze,p as et}from"./index-CiZdG2SW.js";import{_ as tt,u as nt,a as at}from"./FileUploadBlock-dSTdPH98.js";import{g as it}from"./_commonjsHelpers-_d1bhYXs.js";import{n as rt}from"./nl-CH2zNsCj.js";var Ee={};const st={},ut=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"})),Ie=it(ut);var Se;function lt(){return Se||(Se=1,function(E){(function(o){o.parser=function(t,e){return new a(t,e)},o.SAXParser=a,o.SAXStream=x,o.createStream=h,o.MAX_BUFFER_LENGTH=64*1024;var T=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];o.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function a(t,e){if(!(this instanceof a))return new a(t,e);var c=this;p(c),c.q=c.c="",c.bufferCheckPosition=o.MAX_BUFFER_LENGTH,c.opt=e||{},c.opt.lowercase=c.opt.lowercase||c.opt.lowercasetags,c.looseCase=c.opt.lowercase?"toLowerCase":"toUpperCase",c.tags=[],c.closed=c.closedRoot=c.sawRoot=!1,c.tag=c.error=null,c.strict=!!t,c.noscript=!!(t||c.opt.noscript),c.state=i.BEGIN,c.strictEntities=c.opt.strictEntities,c.ENTITIES=c.strictEntities?Object.create(o.XML_ENTITIES):Object.create(o.ENTITIES),c.attribList=[],c.opt.xmlns&&(c.ns=Object.create(Z)),c.opt.unquotedAttributeValues===void 0&&(c.opt.unquotedAttributeValues=!t),c.trackPosition=c.opt.position!==!1,c.trackPosition&&(c.position=c.line=c.column=0),W(c,"onready")}Object.create||(Object.create=function(t){function e(){}e.prototype=t;var c=new e;return c}),Object.keys||(Object.keys=function(t){var e=[];for(var c in t)t.hasOwnProperty(c)&&e.push(c);return e});function m(t){for(var e=Math.max(o.MAX_BUFFER_LENGTH,10),c=0,s=0,F=T.length;s<F;s++){var K=t[T[s]].length;if(K>e)switch(T[s]){case"textNode":Y(t);break;case"cdata":b(t,"oncdata",t.cdata),t.cdata="";break;case"script":b(t,"onscript",t.script),t.script="";break;default:k(t,"Max buffer length exceeded: "+T[s])}c=Math.max(c,K)}var P=o.MAX_BUFFER_LENGTH-c;t.bufferCheckPosition=P+t.position}function p(t){for(var e=0,c=T.length;e<c;e++)t[T[e]]=""}function R(t){Y(t),t.cdata!==""&&(b(t,"oncdata",t.cdata),t.cdata=""),t.script!==""&&(b(t,"onscript",t.script),t.script="")}a.prototype={end:function(){O(this)},write:ce,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){R(this)}};var S;try{S=Ie.Stream}catch{S=function(){}}S||(S=function(){});var V=o.EVENTS.filter(function(t){return t!=="error"&&t!=="end"});function h(t,e){return new x(t,e)}function x(t,e){if(!(this instanceof x))return new x(t,e);S.apply(this),this._parser=new a(t,e),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(s){c.emit("error",s),c._parser.error=null},this._decoder=null,V.forEach(function(s){Object.defineProperty(c,"on"+s,{get:function(){return c._parser["on"+s]},set:function(F){if(!F)return c.removeAllListeners(s),c._parser["on"+s]=F,F;c.on(s,F)},enumerable:!0,configurable:!1})})}x.prototype=Object.create(S.prototype,{constructor:{value:x}}),x.prototype.write=function(t){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(t)){if(!this._decoder){var e=Ie.StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},x.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},x.prototype.on=function(t,e){var c=this;return!c._parser["on"+t]&&V.indexOf(t)!==-1&&(c._parser["on"+t]=function(){var s=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);s.splice(0,0,t),c.emit.apply(c,s)}),S.prototype.on.call(c,t,e)};var Q="[CDATA[",q="DOCTYPE",M="http://www.w3.org/XML/1998/namespace",B="http://www.w3.org/2000/xmlns/",Z={xml:M,xmlns:B},H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,u=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function n(t){return t===" "||t===`
`||t==="\r"||t==="	"}function f(t){return t==='"'||t==="'"}function d(t){return t===">"||n(t)}function g(t,e){return t.test(e)}function _(t,e){return!g(t,e)}var i=0;o.STATE={BEGIN:i++,BEGIN_WHITESPACE:i++,TEXT:i++,TEXT_ENTITY:i++,OPEN_WAKA:i++,SGML_DECL:i++,SGML_DECL_QUOTED:i++,DOCTYPE:i++,DOCTYPE_QUOTED:i++,DOCTYPE_DTD:i++,DOCTYPE_DTD_QUOTED:i++,COMMENT_STARTING:i++,COMMENT:i++,COMMENT_ENDING:i++,COMMENT_ENDED:i++,CDATA:i++,CDATA_ENDING:i++,CDATA_ENDING_2:i++,PROC_INST:i++,PROC_INST_BODY:i++,PROC_INST_ENDING:i++,OPEN_TAG:i++,OPEN_TAG_SLASH:i++,ATTRIB:i++,ATTRIB_NAME:i++,ATTRIB_NAME_SAW_WHITE:i++,ATTRIB_VALUE:i++,ATTRIB_VALUE_QUOTED:i++,ATTRIB_VALUE_CLOSED:i++,ATTRIB_VALUE_UNQUOTED:i++,ATTRIB_VALUE_ENTITY_Q:i++,ATTRIB_VALUE_ENTITY_U:i++,CLOSE_TAG:i++,CLOSE_TAG_SAW_WHITE:i++,SCRIPT:i++,SCRIPT_ENDING:i++},o.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},o.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(o.ENTITIES).forEach(function(t){var e=o.ENTITIES[t],c=typeof e=="number"?String.fromCharCode(e):e;o.ENTITIES[t]=c});for(var A in o.STATE)o.STATE[o.STATE[A]]=A;i=o.STATE;function W(t,e,c){t[e]&&t[e](c)}function b(t,e,c){t.textNode&&Y(t),W(t,e,c)}function Y(t){t.textNode=D(t.opt,t.textNode),t.textNode&&W(t,"ontext",t.textNode),t.textNode=""}function D(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function k(t,e){return Y(t),t.trackPosition&&(e+=`
Line: `+t.line+`
Column: `+t.column+`
Char: `+t.c),e=new Error(e),t.error=e,W(t,"onerror",e),t}function O(t){return t.sawRoot&&!t.closedRoot&&y(t,"Unclosed root tag"),t.state!==i.BEGIN&&t.state!==i.BEGIN_WHITESPACE&&t.state!==i.TEXT&&k(t,"Unexpected end"),Y(t),t.c="",t.closed=!0,W(t,"onend"),a.call(t,t.strict,t.opt),t}function y(t,e){if(typeof t!="object"||!(t instanceof a))throw new Error("bad call to strictFail");t.strict&&k(t,e)}function v(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,c=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(c.ns=e.ns),t.attribList.length=0,b(t,"onopentagstart",c)}function ne(t,e){var c=t.indexOf(":"),s=c<0?["",t]:t.split(":"),F=s[0],K=s[1];return e&&t==="xmlns"&&(F="xmlns",K=""),{prefix:F,local:K}}function ae(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),t.attribList.indexOf(t.attribName)!==-1||t.tag.attributes.hasOwnProperty(t.attribName)){t.attribName=t.attribValue="";return}if(t.opt.xmlns){var e=ne(t.attribName,!0),c=e.prefix,s=e.local;if(c==="xmlns")if(s==="xml"&&t.attribValue!==M)y(t,"xml: prefix must be bound to "+M+`
Actual: `+t.attribValue);else if(s==="xmlns"&&t.attribValue!==B)y(t,"xmlns: prefix must be bound to "+B+`
Actual: `+t.attribValue);else{var F=t.tag,K=t.tags[t.tags.length-1]||t;F.ns===K.ns&&(F.ns=Object.create(K.ns)),F.ns[s]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,b(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function J(t,e){if(t.opt.xmlns){var c=t.tag,s=ne(t.tagName);c.prefix=s.prefix,c.local=s.local,c.uri=c.ns[s.prefix]||"",c.prefix&&!c.uri&&(y(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),c.uri=s.prefix);var F=t.tags[t.tags.length-1]||t;c.ns&&F.ns!==c.ns&&Object.keys(c.ns).forEach(function(he){b(t,"onopennamespace",{prefix:he,uri:c.ns[he]})});for(var K=0,P=t.attribList.length;K<P;K++){var G=t.attribList[K],X=G[0],re=G[1],U=ne(X,!0),ee=U.prefix,Ve=U.local,xe=ee===""?"":c.ns[ee]||"",fe={name:X,value:re,prefix:ee,local:Ve,uri:xe};ee&&ee!=="xmlns"&&!xe&&(y(t,"Unbound namespace prefix: "+JSON.stringify(ee)),fe.uri=ee),t.tag.attributes[X]=fe,b(t,"onattribute",fe)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),b(t,"onopentag",t.tag),e||(!t.noscript&&t.tagName.toLowerCase()==="script"?t.state=i.SCRIPT:t.state=i.TEXT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function ie(t){if(!t.tagName){y(t,"Weird empty close tag."),t.textNode+="</>",t.state=i.TEXT;return}if(t.script){if(t.tagName!=="script"){t.script+="</"+t.tagName+">",t.tagName="",t.state=i.SCRIPT;return}b(t,"onscript",t.script),t.script=""}var e=t.tags.length,c=t.tagName;t.strict||(c=c[t.looseCase]());for(var s=c;e--;){var F=t.tags[e];if(F.name!==s)y(t,"Unexpected close tag");else break}if(e<0){y(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",t.state=i.TEXT;return}t.tagName=c;for(var K=t.tags.length;K-- >e;){var P=t.tag=t.tags.pop();t.tagName=t.tag.name,b(t,"onclosetag",t.tagName);var G={};for(var X in P.ns)G[X]=P.ns[X];var re=t.tags[t.tags.length-1]||t;t.opt.xmlns&&P.ns!==re.ns&&Object.keys(P.ns).forEach(function(U){var ee=P.ns[U];b(t,"onclosenamespace",{prefix:U,uri:ee})})}e===0&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=i.TEXT}function oe(t){var e=t.entity,c=e.toLowerCase(),s,F="";return t.ENTITIES[e]?t.ENTITIES[e]:t.ENTITIES[c]?t.ENTITIES[c]:(e=c,e.charAt(0)==="#"&&(e.charAt(1)==="x"?(e=e.slice(2),s=parseInt(e,16),F=s.toString(16)):(e=e.slice(1),s=parseInt(e,10),F=s.toString(10))),e=e.replace(/^0+/,""),isNaN(s)||F.toLowerCase()!==e?(y(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(s))}function ue(t,e){e==="<"?(t.state=i.OPEN_WAKA,t.startTagPosition=t.position):n(e)||(y(t,"Non-whitespace before first tag."),t.textNode=e,t.state=i.TEXT)}function le(t,e){var c="";return e<t.length&&(c=t.charAt(e)),c}function ce(t){var e=this;if(this.error)throw this.error;if(e.closed)return k(e,"Cannot write after close. Assign an onready handler.");if(t===null)return O(e);typeof t=="object"&&(t=t.toString());for(var c=0,s="";s=le(t,c++),e.c=s,!!s;)switch(e.trackPosition&&(e.position++,s===`
`?(e.line++,e.column=0):e.column++),e.state){case i.BEGIN:if(e.state=i.BEGIN_WHITESPACE,s==="\uFEFF")continue;ue(e,s);continue;case i.BEGIN_WHITESPACE:ue(e,s);continue;case i.TEXT:if(e.sawRoot&&!e.closedRoot){for(var F=c-1;s&&s!=="<"&&s!=="&";)s=le(t,c++),s&&e.trackPosition&&(e.position++,s===`
`?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(F,c-1)}s==="<"&&!(e.sawRoot&&e.closedRoot&&!e.strict)?(e.state=i.OPEN_WAKA,e.startTagPosition=e.position):(!n(s)&&(!e.sawRoot||e.closedRoot)&&y(e,"Text data outside of root node."),s==="&"?e.state=i.TEXT_ENTITY:e.textNode+=s);continue;case i.SCRIPT:s==="<"?e.state=i.SCRIPT_ENDING:e.script+=s;continue;case i.SCRIPT_ENDING:s==="/"?e.state=i.CLOSE_TAG:(e.script+="<"+s,e.state=i.SCRIPT);continue;case i.OPEN_WAKA:if(s==="!")e.state=i.SGML_DECL,e.sgmlDecl="";else if(!n(s))if(g(H,s))e.state=i.OPEN_TAG,e.tagName=s;else if(s==="/")e.state=i.CLOSE_TAG,e.tagName="";else if(s==="?")e.state=i.PROC_INST,e.procInstName=e.procInstBody="";else{if(y(e,"Unencoded <"),e.startTagPosition+1<e.position){var K=e.position-e.startTagPosition;s=new Array(K).join(" ")+s}e.textNode+="<"+s,e.state=i.TEXT}continue;case i.SGML_DECL:if(e.sgmlDecl+s==="--"){e.state=i.COMMENT,e.comment="",e.sgmlDecl="";continue}e.doctype&&e.doctype!==!0&&e.sgmlDecl?(e.state=i.DOCTYPE_DTD,e.doctype+="<!"+e.sgmlDecl+s,e.sgmlDecl=""):(e.sgmlDecl+s).toUpperCase()===Q?(b(e,"onopencdata"),e.state=i.CDATA,e.sgmlDecl="",e.cdata=""):(e.sgmlDecl+s).toUpperCase()===q?(e.state=i.DOCTYPE,(e.doctype||e.sawRoot)&&y(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):s===">"?(b(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=i.TEXT):(f(s)&&(e.state=i.SGML_DECL_QUOTED),e.sgmlDecl+=s);continue;case i.SGML_DECL_QUOTED:s===e.q&&(e.state=i.SGML_DECL,e.q=""),e.sgmlDecl+=s;continue;case i.DOCTYPE:s===">"?(e.state=i.TEXT,b(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=s,s==="["?e.state=i.DOCTYPE_DTD:f(s)&&(e.state=i.DOCTYPE_QUOTED,e.q=s));continue;case i.DOCTYPE_QUOTED:e.doctype+=s,s===e.q&&(e.q="",e.state=i.DOCTYPE);continue;case i.DOCTYPE_DTD:s==="]"?(e.doctype+=s,e.state=i.DOCTYPE):s==="<"?(e.state=i.OPEN_WAKA,e.startTagPosition=e.position):f(s)?(e.doctype+=s,e.state=i.DOCTYPE_DTD_QUOTED,e.q=s):e.doctype+=s;continue;case i.DOCTYPE_DTD_QUOTED:e.doctype+=s,s===e.q&&(e.state=i.DOCTYPE_DTD,e.q="");continue;case i.COMMENT:s==="-"?e.state=i.COMMENT_ENDING:e.comment+=s;continue;case i.COMMENT_ENDING:s==="-"?(e.state=i.COMMENT_ENDED,e.comment=D(e.opt,e.comment),e.comment&&b(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+s,e.state=i.COMMENT);continue;case i.COMMENT_ENDED:s!==">"?(y(e,"Malformed comment"),e.comment+="--"+s,e.state=i.COMMENT):e.doctype&&e.doctype!==!0?e.state=i.DOCTYPE_DTD:e.state=i.TEXT;continue;case i.CDATA:s==="]"?e.state=i.CDATA_ENDING:e.cdata+=s;continue;case i.CDATA_ENDING:s==="]"?e.state=i.CDATA_ENDING_2:(e.cdata+="]"+s,e.state=i.CDATA);continue;case i.CDATA_ENDING_2:s===">"?(e.cdata&&b(e,"oncdata",e.cdata),b(e,"onclosecdata"),e.cdata="",e.state=i.TEXT):s==="]"?e.cdata+="]":(e.cdata+="]]"+s,e.state=i.CDATA);continue;case i.PROC_INST:s==="?"?e.state=i.PROC_INST_ENDING:n(s)?e.state=i.PROC_INST_BODY:e.procInstName+=s;continue;case i.PROC_INST_BODY:if(!e.procInstBody&&n(s))continue;s==="?"?e.state=i.PROC_INST_ENDING:e.procInstBody+=s;continue;case i.PROC_INST_ENDING:s===">"?(b(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=i.TEXT):(e.procInstBody+="?"+s,e.state=i.PROC_INST_BODY);continue;case i.OPEN_TAG:g(l,s)?e.tagName+=s:(v(e),s===">"?J(e):s==="/"?e.state=i.OPEN_TAG_SLASH:(n(s)||y(e,"Invalid character in tag name"),e.state=i.ATTRIB));continue;case i.OPEN_TAG_SLASH:s===">"?(J(e,!0),ie(e)):(y(e,"Forward-slash in opening tag not followed by >"),e.state=i.ATTRIB);continue;case i.ATTRIB:if(n(s))continue;s===">"?J(e):s==="/"?e.state=i.OPEN_TAG_SLASH:g(H,s)?(e.attribName=s,e.attribValue="",e.state=i.ATTRIB_NAME):y(e,"Invalid attribute name");continue;case i.ATTRIB_NAME:s==="="?e.state=i.ATTRIB_VALUE:s===">"?(y(e,"Attribute without value"),e.attribValue=e.attribName,ae(e),J(e)):n(s)?e.state=i.ATTRIB_NAME_SAW_WHITE:g(l,s)?e.attribName+=s:y(e,"Invalid attribute name");continue;case i.ATTRIB_NAME_SAW_WHITE:if(s==="=")e.state=i.ATTRIB_VALUE;else{if(n(s))continue;y(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",b(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",s===">"?J(e):g(H,s)?(e.attribName=s,e.state=i.ATTRIB_NAME):(y(e,"Invalid attribute name"),e.state=i.ATTRIB)}continue;case i.ATTRIB_VALUE:if(n(s))continue;f(s)?(e.q=s,e.state=i.ATTRIB_VALUE_QUOTED):(e.opt.unquotedAttributeValues||k(e,"Unquoted attribute value"),e.state=i.ATTRIB_VALUE_UNQUOTED,e.attribValue=s);continue;case i.ATTRIB_VALUE_QUOTED:if(s!==e.q){s==="&"?e.state=i.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=s;continue}ae(e),e.q="",e.state=i.ATTRIB_VALUE_CLOSED;continue;case i.ATTRIB_VALUE_CLOSED:n(s)?e.state=i.ATTRIB:s===">"?J(e):s==="/"?e.state=i.OPEN_TAG_SLASH:g(H,s)?(y(e,"No whitespace between attributes"),e.attribName=s,e.attribValue="",e.state=i.ATTRIB_NAME):y(e,"Invalid attribute name");continue;case i.ATTRIB_VALUE_UNQUOTED:if(!d(s)){s==="&"?e.state=i.ATTRIB_VALUE_ENTITY_U:e.attribValue+=s;continue}ae(e),s===">"?J(e):e.state=i.ATTRIB;continue;case i.CLOSE_TAG:if(e.tagName)s===">"?ie(e):g(l,s)?e.tagName+=s:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=i.SCRIPT):(n(s)||y(e,"Invalid tagname in closing tag"),e.state=i.CLOSE_TAG_SAW_WHITE);else{if(n(s))continue;_(H,s)?e.script?(e.script+="</"+s,e.state=i.SCRIPT):y(e,"Invalid tagname in closing tag."):e.tagName=s}continue;case i.CLOSE_TAG_SAW_WHITE:if(n(s))continue;s===">"?ie(e):y(e,"Invalid characters in closing tag");continue;case i.TEXT_ENTITY:case i.ATTRIB_VALUE_ENTITY_Q:case i.ATTRIB_VALUE_ENTITY_U:var P,G;switch(e.state){case i.TEXT_ENTITY:P=i.TEXT,G="textNode";break;case i.ATTRIB_VALUE_ENTITY_Q:P=i.ATTRIB_VALUE_QUOTED,G="attribValue";break;case i.ATTRIB_VALUE_ENTITY_U:P=i.ATTRIB_VALUE_UNQUOTED,G="attribValue";break}if(s===";"){var X=oe(e);e.opt.unparsedEntities&&!Object.values(o.XML_ENTITIES).includes(X)?(e.entity="",e.state=P,e.write(X)):(e[G]+=X,e.entity="",e.state=P)}else g(e.entity.length?r:u,s)?e.entity+=s:(y(e,"Invalid character in entity name"),e[G]+="&"+e.entity+s,e.entity="",e.state=P);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&m(e),e}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var t=String.fromCharCode,e=Math.floor,c=function(){var s=16384,F=[],K,P,G=-1,X=arguments.length;if(!X)return"";for(var re="";++G<X;){var U=Number(arguments[G]);if(!isFinite(U)||U<0||U>1114111||e(U)!==U)throw RangeError("Invalid code point: "+U);U<=65535?F.push(U):(U-=65536,K=(U>>10)+55296,P=U%1024+56320,F.push(K,P)),(G+1===X||F.length>s)&&(re+=t.apply(null,F),F.length=0)}return re};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()})(E)}(Ee)),Ee}var Te,Oe;function Fe(){return Oe||(Oe=1,Te={isArray:function(E){return Array.isArray?Array.isArray(E):Object.prototype.toString.call(E)==="[object Array]"}}),Te}var ge,we;function pe(){if(we)return ge;we=1;var E=Fe().isArray;return ge={copyOptions:function(o){var T,a={};for(T in o)o.hasOwnProperty(T)&&(a[T]=o[T]);return a},ensureFlagExists:function(o,T){(!(o in T)||typeof T[o]!="boolean")&&(T[o]=!1)},ensureSpacesExists:function(o){(!("spaces"in o)||typeof o.spaces!="number"&&typeof o.spaces!="string")&&(o.spaces=0)},ensureAlwaysArrayExists:function(o){(!("alwaysArray"in o)||typeof o.alwaysArray!="boolean"&&!E(o.alwaysArray))&&(o.alwaysArray=!1)},ensureKeyExists:function(o,T){(!(o+"Key"in T)||typeof T[o+"Key"]!="string")&&(T[o+"Key"]=T.compact?"_"+o:o)},checkFnExists:function(o,T){return o+"Fn"in T}},ge}var ye,Re;function Ue(){if(Re)return ye;Re=1;var E=lt(),o=pe(),T=Fe().isArray,a,m;function p(l){return a=o.copyOptions(l),o.ensureFlagExists("ignoreDeclaration",a),o.ensureFlagExists("ignoreInstruction",a),o.ensureFlagExists("ignoreAttributes",a),o.ensureFlagExists("ignoreText",a),o.ensureFlagExists("ignoreComment",a),o.ensureFlagExists("ignoreCdata",a),o.ensureFlagExists("ignoreDoctype",a),o.ensureFlagExists("compact",a),o.ensureFlagExists("alwaysChildren",a),o.ensureFlagExists("addParent",a),o.ensureFlagExists("trim",a),o.ensureFlagExists("nativeType",a),o.ensureFlagExists("nativeTypeAttributes",a),o.ensureFlagExists("sanitize",a),o.ensureFlagExists("instructionHasAttributes",a),o.ensureFlagExists("captureSpacesBetweenElements",a),o.ensureAlwaysArrayExists(a),o.ensureKeyExists("declaration",a),o.ensureKeyExists("instruction",a),o.ensureKeyExists("attributes",a),o.ensureKeyExists("text",a),o.ensureKeyExists("comment",a),o.ensureKeyExists("cdata",a),o.ensureKeyExists("doctype",a),o.ensureKeyExists("type",a),o.ensureKeyExists("name",a),o.ensureKeyExists("elements",a),o.ensureKeyExists("parent",a),o.checkFnExists("doctype",a),o.checkFnExists("instruction",a),o.checkFnExists("cdata",a),o.checkFnExists("comment",a),o.checkFnExists("text",a),o.checkFnExists("instructionName",a),o.checkFnExists("elementName",a),o.checkFnExists("attributeName",a),o.checkFnExists("attributeValue",a),o.checkFnExists("attributes",a),a}function R(l){var u=Number(l);if(!isNaN(u))return u;var r=l.toLowerCase();return r==="true"?!0:r==="false"?!1:l}function S(l,u){var r;if(a.compact){if(!m[a[l+"Key"]]&&(T(a.alwaysArray)?a.alwaysArray.indexOf(a[l+"Key"])!==-1:a.alwaysArray)&&(m[a[l+"Key"]]=[]),m[a[l+"Key"]]&&!T(m[a[l+"Key"]])&&(m[a[l+"Key"]]=[m[a[l+"Key"]]]),l+"Fn"in a&&typeof u=="string"&&(u=a[l+"Fn"](u,m)),l==="instruction"&&("instructionFn"in a||"instructionNameFn"in a)){for(r in u)if(u.hasOwnProperty(r))if("instructionFn"in a)u[r]=a.instructionFn(u[r],r,m);else{var n=u[r];delete u[r],u[a.instructionNameFn(r,n,m)]=n}}T(m[a[l+"Key"]])?m[a[l+"Key"]].push(u):m[a[l+"Key"]]=u}else{m[a.elementsKey]||(m[a.elementsKey]=[]);var f={};if(f[a.typeKey]=l,l==="instruction"){for(r in u)if(u.hasOwnProperty(r))break;f[a.nameKey]="instructionNameFn"in a?a.instructionNameFn(r,u,m):r,a.instructionHasAttributes?(f[a.attributesKey]=u[r][a.attributesKey],"instructionFn"in a&&(f[a.attributesKey]=a.instructionFn(f[a.attributesKey],r,m))):("instructionFn"in a&&(u[r]=a.instructionFn(u[r],r,m)),f[a.instructionKey]=u[r])}else l+"Fn"in a&&(u=a[l+"Fn"](u,m)),f[a[l+"Key"]]=u;a.addParent&&(f[a.parentKey]=m),m[a.elementsKey].push(f)}}function V(l){if("attributesFn"in a&&l&&(l=a.attributesFn(l,m)),(a.trim||"attributeValueFn"in a||"attributeNameFn"in a||a.nativeTypeAttributes)&&l){var u;for(u in l)if(l.hasOwnProperty(u)&&(a.trim&&(l[u]=l[u].trim()),a.nativeTypeAttributes&&(l[u]=R(l[u])),"attributeValueFn"in a&&(l[u]=a.attributeValueFn(l[u],u,m)),"attributeNameFn"in a)){var r=l[u];delete l[u],l[a.attributeNameFn(u,l[u],m)]=r}}return l}function h(l){var u={};if(l.body&&(l.name.toLowerCase()==="xml"||a.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,n;(n=r.exec(l.body))!==null;)u[n[1]]=n[2]||n[3]||n[4];u=V(u)}if(l.name.toLowerCase()==="xml"){if(a.ignoreDeclaration)return;m[a.declarationKey]={},Object.keys(u).length&&(m[a.declarationKey][a.attributesKey]=u),a.addParent&&(m[a.declarationKey][a.parentKey]=m)}else{if(a.ignoreInstruction)return;a.trim&&(l.body=l.body.trim());var f={};a.instructionHasAttributes&&Object.keys(u).length?(f[l.name]={},f[l.name][a.attributesKey]=u):f[l.name]=l.body,S("instruction",f)}}function x(l,u){var r;if(typeof l=="object"&&(u=l.attributes,l=l.name),u=V(u),"elementNameFn"in a&&(l=a.elementNameFn(l,m)),a.compact){if(r={},!a.ignoreAttributes&&u&&Object.keys(u).length){r[a.attributesKey]={};var n;for(n in u)u.hasOwnProperty(n)&&(r[a.attributesKey][n]=u[n])}!(l in m)&&(T(a.alwaysArray)?a.alwaysArray.indexOf(l)!==-1:a.alwaysArray)&&(m[l]=[]),m[l]&&!T(m[l])&&(m[l]=[m[l]]),T(m[l])?m[l].push(r):m[l]=r}else m[a.elementsKey]||(m[a.elementsKey]=[]),r={},r[a.typeKey]="element",r[a.nameKey]=l,!a.ignoreAttributes&&u&&Object.keys(u).length&&(r[a.attributesKey]=u),a.alwaysChildren&&(r[a.elementsKey]=[]),m[a.elementsKey].push(r);r[a.parentKey]=m,m=r}function Q(l){a.ignoreText||!l.trim()&&!a.captureSpacesBetweenElements||(a.trim&&(l=l.trim()),a.nativeType&&(l=R(l)),a.sanitize&&(l=l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),S("text",l))}function q(l){a.ignoreComment||(a.trim&&(l=l.trim()),S("comment",l))}function M(l){var u=m[a.parentKey];a.addParent||delete m[a.parentKey],m=u}function B(l){a.ignoreCdata||(a.trim&&(l=l.trim()),S("cdata",l))}function Z(l){a.ignoreDoctype||(l=l.replace(/^ /,""),a.trim&&(l=l.trim()),S("doctype",l))}function H(l){l.note=l}return ye=function(l,u){var r=E.parser(!0,{}),n={};if(m=n,a=p(u),r.opt={strictEntities:!0},r.onopentag=x,r.ontext=Q,r.oncomment=q,r.onclosetag=M,r.onerror=H,r.oncdata=B,r.ondoctype=Z,r.onprocessinginstruction=h,r.write(l).close(),n[a.elementsKey]){var f=n[a.elementsKey];delete n[a.elementsKey],n[a.elementsKey]=f,delete n.text}return n},ye}var _e,Ke;function ot(){if(Ke)return _e;Ke=1;var E=pe(),o=Ue();function T(a){var m=E.copyOptions(a);return E.ensureSpacesExists(m),m}return _e=function(a,m){var p,R,S,V;return p=T(m),R=o(a,p),V="compact"in p&&p.compact?"_parent":"parent","addParent"in p&&p.addParent?S=JSON.stringify(R,function(h,x){return h===V?"_":x},p.spaces):S=JSON.stringify(R,null,p.spaces),S.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},_e}var be,Pe;function ke(){if(Pe)return be;Pe=1;var E=pe(),o=Fe().isArray,T,a;function m(r){var n=E.copyOptions(r);return E.ensureFlagExists("ignoreDeclaration",n),E.ensureFlagExists("ignoreInstruction",n),E.ensureFlagExists("ignoreAttributes",n),E.ensureFlagExists("ignoreText",n),E.ensureFlagExists("ignoreComment",n),E.ensureFlagExists("ignoreCdata",n),E.ensureFlagExists("ignoreDoctype",n),E.ensureFlagExists("compact",n),E.ensureFlagExists("indentText",n),E.ensureFlagExists("indentCdata",n),E.ensureFlagExists("indentAttributes",n),E.ensureFlagExists("indentInstruction",n),E.ensureFlagExists("fullTagEmptyElement",n),E.ensureFlagExists("noQuotesForNativeAttributes",n),E.ensureSpacesExists(n),typeof n.spaces=="number"&&(n.spaces=Array(n.spaces+1).join(" ")),E.ensureKeyExists("declaration",n),E.ensureKeyExists("instruction",n),E.ensureKeyExists("attributes",n),E.ensureKeyExists("text",n),E.ensureKeyExists("comment",n),E.ensureKeyExists("cdata",n),E.ensureKeyExists("doctype",n),E.ensureKeyExists("type",n),E.ensureKeyExists("name",n),E.ensureKeyExists("elements",n),E.checkFnExists("doctype",n),E.checkFnExists("instruction",n),E.checkFnExists("cdata",n),E.checkFnExists("comment",n),E.checkFnExists("text",n),E.checkFnExists("instructionName",n),E.checkFnExists("elementName",n),E.checkFnExists("attributeName",n),E.checkFnExists("attributeValue",n),E.checkFnExists("attributes",n),E.checkFnExists("fullTagEmptyElement",n),n}function p(r,n,f){return(!f&&r.spaces?`
`:"")+Array(n+1).join(r.spaces)}function R(r,n,f){if(n.ignoreAttributes)return"";"attributesFn"in n&&(r=n.attributesFn(r,a,T));var d,g,_,i,A=[];for(d in r)r.hasOwnProperty(d)&&r[d]!==null&&r[d]!==void 0&&(i=n.noQuotesForNativeAttributes&&typeof r[d]!="string"?"":'"',g=""+r[d],g=g.replace(/"/g,"&quot;"),_="attributeNameFn"in n?n.attributeNameFn(d,g,a,T):d,A.push(n.spaces&&n.indentAttributes?p(n,f+1,!1):" "),A.push(_+"="+i+("attributeValueFn"in n?n.attributeValueFn(g,d,a,T):g)+i));return r&&Object.keys(r).length&&n.spaces&&n.indentAttributes&&A.push(p(n,f,!1)),A.join("")}function S(r,n,f){return T=r,a="xml",n.ignoreDeclaration?"":"<?xml"+R(r[n.attributesKey],n,f)+"?>"}function V(r,n,f){if(n.ignoreInstruction)return"";var d;for(d in r)if(r.hasOwnProperty(d))break;var g="instructionNameFn"in n?n.instructionNameFn(d,r[d],a,T):d;if(typeof r[d]=="object")return T=r,a=g,"<?"+g+R(r[d][n.attributesKey],n,f)+"?>";var _=r[d]?r[d]:"";return"instructionFn"in n&&(_=n.instructionFn(_,d,a,T)),"<?"+g+(_?" "+_:"")+"?>"}function h(r,n){return n.ignoreComment?"":"<!--"+("commentFn"in n?n.commentFn(r,a,T):r)+"-->"}function x(r,n){return n.ignoreCdata?"":"<![CDATA["+("cdataFn"in n?n.cdataFn(r,a,T):r.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Q(r,n){return n.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in n?n.doctypeFn(r,a,T):r)+">"}function q(r,n){return n.ignoreText?"":(r=""+r,r=r.replace(/&amp;/g,"&"),r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in n?n.textFn(r,a,T):r)}function M(r,n){var f;if(r.elements&&r.elements.length)for(f=0;f<r.elements.length;++f)switch(r.elements[f][n.typeKey]){case"text":if(n.indentText)return!0;break;case"cdata":if(n.indentCdata)return!0;break;case"instruction":if(n.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function B(r,n,f){T=r,a=r.name;var d=[],g="elementNameFn"in n?n.elementNameFn(r.name,r):r.name;d.push("<"+g),r[n.attributesKey]&&d.push(R(r[n.attributesKey],n,f));var _=r[n.elementsKey]&&r[n.elementsKey].length||r[n.attributesKey]&&r[n.attributesKey]["xml:space"]==="preserve";return _||("fullTagEmptyElementFn"in n?_=n.fullTagEmptyElementFn(r.name,r):_=n.fullTagEmptyElement),_?(d.push(">"),r[n.elementsKey]&&r[n.elementsKey].length&&(d.push(Z(r[n.elementsKey],n,f+1)),T=r,a=r.name),d.push(n.spaces&&M(r,n)?`
`+Array(f+1).join(n.spaces):""),d.push("</"+g+">")):d.push("/>"),d.join("")}function Z(r,n,f,d){return r.reduce(function(g,_){var i=p(n,f,d&&!g);switch(_.type){case"element":return g+i+B(_,n,f);case"comment":return g+i+h(_[n.commentKey],n);case"doctype":return g+i+Q(_[n.doctypeKey],n);case"cdata":return g+(n.indentCdata?i:"")+x(_[n.cdataKey],n);case"text":return g+(n.indentText?i:"")+q(_[n.textKey],n);case"instruction":var A={};return A[_[n.nameKey]]=_[n.attributesKey]?_:_[n.instructionKey],g+(n.indentInstruction?i:"")+V(A,n,f)}},"")}function H(r,n,f){var d;for(d in r)if(r.hasOwnProperty(d))switch(d){case n.parentKey:case n.attributesKey:break;case n.textKey:if(n.indentText||f)return!0;break;case n.cdataKey:if(n.indentCdata||f)return!0;break;case n.instructionKey:if(n.indentInstruction||f)return!0;break;case n.doctypeKey:case n.commentKey:return!0;default:return!0}return!1}function l(r,n,f,d,g){T=r,a=n;var _="elementNameFn"in f?f.elementNameFn(n,r):n;if(typeof r>"u"||r===null||r==="")return"fullTagEmptyElementFn"in f&&f.fullTagEmptyElementFn(n,r)||f.fullTagEmptyElement?"<"+_+"></"+_+">":"<"+_+"/>";var i=[];if(n){if(i.push("<"+_),typeof r!="object")return i.push(">"+q(r,f)+"</"+_+">"),i.join("");r[f.attributesKey]&&i.push(R(r[f.attributesKey],f,d));var A=H(r,f,!0)||r[f.attributesKey]&&r[f.attributesKey]["xml:space"]==="preserve";if(A||("fullTagEmptyElementFn"in f?A=f.fullTagEmptyElementFn(n,r):A=f.fullTagEmptyElement),A)i.push(">");else return i.push("/>"),i.join("")}return i.push(u(r,f,d+1,!1)),T=r,a=n,n&&i.push((g?p(f,d,!1):"")+"</"+_+">"),i.join("")}function u(r,n,f,d){var g,_,i,A=[];for(_ in r)if(r.hasOwnProperty(_))for(i=o(r[_])?r[_]:[r[_]],g=0;g<i.length;++g){switch(_){case n.declarationKey:A.push(S(i[g],n,f));break;case n.instructionKey:A.push((n.indentInstruction?p(n,f,d):"")+V(i[g],n,f));break;case n.attributesKey:case n.parentKey:break;case n.textKey:A.push((n.indentText?p(n,f,d):"")+q(i[g],n));break;case n.cdataKey:A.push((n.indentCdata?p(n,f,d):"")+x(i[g],n));break;case n.doctypeKey:A.push(p(n,f,d)+Q(i[g],n));break;case n.commentKey:A.push(p(n,f,d)+h(i[g],n));break;default:A.push(p(n,f,d)+l(i[g],_,n,f,H(i[g],n)))}d=d&&!A.length}return A.join("")}return be=function(r,n){n=m(n);var f=[];return T=r,a="_root_",n.compact?f.push(u(r,n,0,!0)):(r[n.declarationKey]&&f.push(S(r[n.declarationKey],n,0)),r[n.elementsKey]&&r[n.elementsKey].length&&f.push(Z(r[n.elementsKey],n,0,!f.length))),f.join("")},be}var Ne,Le;function ct(){if(Le)return Ne;Le=1;var E=ke();return Ne=function(o,T){o instanceof Buffer&&(o=o.toString());var a=null;if(typeof o=="string")try{a=JSON.parse(o)}catch{throw new Error("The JSON structure is invalid")}else a=o;return E(a,T)},Ne}var Ae,Me;function ft(){if(Me)return Ae;Me=1;var E=Ue(),o=ot(),T=ke(),a=ct();return Ae={xml2js:E,xml2json:o,js2xml:T,json2xml:a},Ae}var mt=ft();const je=ze("tmsXml",()=>{const E=ve({}),o=ve({});async function T(a){const m=a[0];if(!m||!dt(m))return;E.value={},o.value={};const p=await m.text(),R=mt.xml2js(p,{compact:!0});E.value=R==null?void 0:R.CompositionPlaylist,o.value={name:m.name,type:m.type,lastModified:m.lastModified,size:m.size}}return{obj:E,metadata:o,uploadXml:T}});function dt(E){return E.type==="text/xml"||E.name.endsWith(".xml")}const Et={id:"upload"},Tt={key:0,style:{"flex-grow":"1"}},gt={key:1,style:{"flex-grow":"1"}},yt=We({__name:"TmsXmlUploadSection",setup(E){const o=je();return(T,a)=>{const m=tt;return w(),L("section",Et,[$(m,{onFilesUploaded:j(o).uploadXml,accept:"text/xml,.xml"},{default:z(()=>["name"in j(o).metadata?(w(),L("p",Tt,[I(C(j(o).metadata.name)+" ",1),a[0]||(a[0]=N("br",null,null,-1)),N("small",null," Laatst gewijzigd op "+C(j($e)(new Date(j(o).metadata.lastModified),"PPPpp",{locale:j(rt)})),1)])):(w(),L("p",gt,a[1]||(a[1]=[I(" Geen gegevens "),N("br",null,null,-1),N("small",null,[I("Upload een "),N("b",null,"XML"),I("-bestand uit RosettaBridge met de knop of door hem hierheen te slepen.")],-1)])))]),_:1},8,["onFilesUploaded"])])}}}),_t=Be(yt,[["__scopeId","data-v-ad00094a"]]),bt={class:"flex",style:{"flex-wrap":"wrap"}},Nt={style:{flex:"50% 1 1"}},At={key:0,class:"film"},vt={class:"room"},Ft={class:"title"},pt={key:0,class:"time"},xt={key:1,class:"time"},ht={class:"flex chips"},Dt={class:"extra"},Ct={class:"flex proportional-reels"},It=["title"],St={class:"reels"},Ot=["title"],wt={key:0,class:"bold colour"},Rt={class:"extra-extra"},Kt={key:0},Pt={key:1},Lt={key:2},Mt={key:1},Bt={key:0,class:"dropzone"},Ut={__name:"IntermissionFinderView",setup(E){const o=je(),T=ve(null),a=nt("intermission-percentage-dev",5),m=te(()=>{var l,u,r,n,f,d;return M((d=((r=(u=(l=o.obj)==null?void 0:l.ReelList)==null?void 0:u.Reel)==null?void 0:r[0])||((f=(n=o.obj)==null?void 0:n.ReelList)==null?void 0:f.Reel))==null?void 0:d.AssetList,([g])=>g.includes("CompositionMetadataAsset"))}),p=te(()=>{var l,u,r;return((l=M(m.value,([n])=>n.includes("TitleText")))==null?void 0:l._text)||((r=(u=o.obj)==null?void 0:u.AnnotationText)==null?void 0:r._text.split("_")[0])}),R=te(()=>{var l,u,r,n,f,d;return!!M((d=((r=(u=(l=o.obj)==null?void 0:l.ReelList)==null?void 0:u.Reel)==null?void 0:r[0])||((f=(n=o.obj)==null?void 0:n.ReelList)==null?void 0:f.Reel))==null?void 0:d.AssetList,([g])=>g.includes("StereoscopicPicture"))}),S=te(()=>{var l;return(l=M(M(M(m.value,([u])=>u.includes("SubDescriptors")),([u])=>u.includes("SubDescriptor")),([u])=>u.includes("SpokenLanguage")))==null?void 0:l._text}),V=te(()=>{var l;return(l=M(m.value,([u])=>u.includes("MainSubtitleLanguageList")))==null?void 0:l._text}),h=te(()=>{var r,n,f,d,g,_,i,A,W,b,Y;const l=(n=(r=o.obj)==null?void 0:r.ReelList)==null?void 0:n.Reel;let u=[];if((l==null?void 0:l.length)>0)u.push(...l==null?void 0:l.map((D,k)=>{var ne,ae,J,ie,oe,ue,le,ce,t;const O={},y=D==null?void 0:D.AssetList,v=M(y,([e])=>e.includes("Main")&&e.endsWith("Picture"));return O.title=((ne=v==null?void 0:v.AnnotationText)==null?void 0:ne._text)||`Reel ${k}`,O.frameRate=Number((J=(ae=v==null?void 0:v.EditRate)==null?void 0:ae._text)==null?void 0:J.split(" ")[0])||Number((oe=(ie=v==null?void 0:v.FrameRate)==null?void 0:ie._text)==null?void 0:oe.split(" ")[0]),O.frames=Number((ue=(v==null?void 0:v.Duration)||(v==null?void 0:v.IntrinsicDuration))==null?void 0:ue._text),O.intrinsicFrames=Number((le=v==null?void 0:v.IntrinsicDuration)==null?void 0:le._text),O.duration=O.frames/O.frameRate*1e3,O.intrinsicDuration=O.intrinsicFrames/O.frameRate*1e3,O.entryPoint=Number((ce=v==null?void 0:v.EntryPoint)==null?void 0:ce._text),O.id=(t=v==null?void 0:v.Id)==null?void 0:t._text,O}));else{const D={},k=l,O=k==null?void 0:k.AssetList,y=M(O,([v])=>v.includes("Main")&&v.endsWith("Picture"));D.title=((f=k==null?void 0:k.AnnotationText)==null?void 0:f._text)||"Reel 0",D.frameRate=Number((g=(d=y==null?void 0:y.EditRate)==null?void 0:d._text)==null?void 0:g.split(" ")[0])||Number((i=(_=y==null?void 0:y.FrameRate)==null?void 0:_._text)==null?void 0:i.split(" ")[0]),D.frames=Number((A=(y==null?void 0:y.Duration)||(y==null?void 0:y.IntrinsicDuration))==null?void 0:A._text),D.intrinsicFrames=Number((W=y==null?void 0:y.IntrinsicDuration)==null?void 0:W._text),D.duration=D.frames/D.frameRate*1e3,D.intrinsicDuration=D.intrinsicFrames/D.frameRate*1e3,D.entryPoint=Number((b=y==null?void 0:y.EntryPoint)==null?void 0:b._text),D.id=(Y=y==null?void 0:y.Id)==null?void 0:Y._text,u.push(D)}return u.forEach((D,k)=>{D.properDuration=D.duration/u.reduce((O,y)=>O+y.duration,0),D.properStart=u.slice(0,k).reduce((O,y)=>O+y.properDuration,0)}),u}),x=te(()=>[...h.value].sort((l,u)=>Math.abs(l.properStart-.5)-Math.abs(u.properStart-.5))[0].properStart),Q=te(()=>h.value.findIndex(l=>l.properStart===x.value)),q=te(()=>h.value.reduce((l,u)=>l+u.duration,0));function M(l,u){var r,n;if(typeof l=="object")return(n=(r=Object.entries(l))==null?void 0:r.find(u))==null?void 0:n[1]}function B(l=0,u=24){u=Number(u);let r=l*u/1e3;const n=Math.floor(r/u/60/60),f=Math.floor(r/u/60)%60,d=Math.floor(r/u)%60,g=Math.floor(r%u);return`${String(n).padStart(2,"0")}:${String(f).padStart(2,"0")}:${String(d).padStart(2,"0")}:${String(g).padStart(2,"0")}`}function Z(l,u){return`
${u+1}e reel

Titel: ${l.title||"Geen"}
ID: ${l.id}

Framerate: ${l.frameRate} fps
Duur: ${B(l.duration,l.frameRate)} (${l.frames} frames)

Intrinsieke duur: ${B(l.intrinsicDuration,l.frameRate)} (${l.intrinsicFrames} frames)
Startpunt: ${B(l.entryPoint,l.frameRate)} (${l.entryPoint} frames)`}const{isOverDropZone:H}=at(T,{onDrop:o.uploadXml,dataTypes:["text/xml",".xml"],multiple:!1});return(l,u)=>{var W;const r=Qe,n=_t,f=Je,d=He,g=qe,_=Xe,i=Ge,A=Ye;return w(),L(de,null,[$(r),N("main",{ref_key:"main",ref:T},[$(n),N("section",null,[N("div",bt,[N("div",Nt,[u[21]||(u[21]=N("h2",null,"Filminformatie",-1)),(W=j(o).metadata)!=null&&W.name?(w(),L("div",At,[N("div",vt,[$(f,{fill:"",style:{"--size":"24px",opacity:"0.5"}},{default:z(()=>u[2]||(u[2]=[I("theaters")])),_:1})]),N("h3",Ft,C(p.value),1),h.value.some(b=>b.frameRate!==h.value[0].frameRate)?(w(),L("div",xt,"Framerate verschilt per reel")):(w(),L("div",pt,[I(C(B(q.value,h.value[0].frameRate))+" ",1),N("span",{class:De({bold:h.value[0].frameRate!==24,colour:h.value[0].frameRate!==24})}," ("+C(h.value[0].frameRate)+" fps) ",3)])),N("div",ht,[R.value?(w(),me(d,{key:0},{default:z(()=>[$(f,{fill:""},{default:z(()=>u[3]||(u[3]=[I("eyeglasses")])),_:1}),u[4]||(u[4]=I("3D "))]),_:1})):se("",!0),S.value?(w(),me(d,{key:1,class:"translucent-white"},{default:z(()=>[$(f,{fill:""},{default:z(()=>u[5]||(u[5]=[I("volume_up")])),_:1}),I(" "+C(S.value),1)]),_:1})):se("",!0),V.value?(w(),me(d,{key:2,class:"translucent-white"},{default:z(()=>[$(f,{fill:""},{default:z(()=>u[6]||(u[6]=[I("subtitles")])),_:1}),I(" "+C(V.value),1)]),_:1})):se("",!0)]),N("div",Dt,[u[20]||(u[20]=N("h4",null,"Reels",-1)),N("div",Ct,[(w(!0),L(de,null,Ce(h.value,(b,Y)=>(w(),L("div",{class:De(["reel",{"after-intermission":x.value===b.properStart&&Math.abs(x.value-.5)<j(a)/100}]),style:Ze({"--propFrac":b.properDuration}),title:Z(b,Y)},null,14,It))),256))]),N("table",St,[u[7]||(u[7]=N("thead",null,[N("tr",null,[N("td",null,"Reel"),N("td",null,"Duur (hh:mm:ss:ff)"),N("td",null,"Starttijd (hh:mm:ss:ff)")])],-1)),(w(!0),L(de,null,Ce(h.value,(b,Y)=>(w(),L("tr",{title:Z(b,Y)},[N("td",null,C(Y+1),1),N("td",null,[I(C(B(b.duration,b.frameRate))+" ",1),b.frameRate!==h.value[0].frameRate?(w(),L("span",wt," ("+C(b.frameRate)+" fps) ",1)):se("",!0)]),N("td",null,C(B(b.properStart*q.value,b.frameRate))+" ("+C((b.properStart*100).toLocaleString("nl-NL",{minimumFractionDigits:2,maximumFractionDigits:2}))+"%) ",1)],8,Ot))),256))]),N("div",Rt,[u[19]||(u[19]=N("h4",null,"Pauzesuggestie",-1)),Math.abs(x.value-.5)<j(a)/100?(w(),L("p",Kt,[I(" Een pauze zou kunnen worden ingepland tussen de "+C(Q.value),1),u[8]||(u[8]=N("sup",null,"e",-1)),I(" en de "+C(Q.value+1),1),u[9]||(u[9]=N("sup",null,"e",-1)),I(" reel (na "+C(B(x.value*q.value,h.value[0].frameRate))+" of "+C((x.value*100).toLocaleString("nl-NL",{minimumFractionDigits:2,maximumFractionDigits:2}))+"%). ",1)])):h.value.length>1?(w(),L("p",Pt,[I(" Er is geen reel die tussen "+C(50-j(a))+"% en "+C(50+j(a))+"% van de film eindigt. ",1),Math.abs(x.value-.5)-j(a)/100<.05?(w(),L("a",{key:0,class:"link",onClick:u[0]||(u[0]=b=>a.value=Math.ceil(Math.abs(x.value-.5)*100))}," Maximale afwijking bijstellen tot "+C(Math.ceil(Math.abs(x.value-.5)*100))+"%?",1)):se("",!0),u[10]||(u[10]=N("br",null,null,-1)),I(" Een pauze zou kunnen worden ingepland tijdens de "+C(Q.value+1),1),u[11]||(u[11]=N("sup",null,"e",-1)),u[12]||(u[12]=I(" reel (bijvoorbeeld na ")),N("b",null,C(B(.5*q.value,h.value[0].frameRate)),1),u[13]||(u[13]=I(" of 50%). ")),u[14]||(u[14]=N("br",null,null,-1))])):(w(),L("p",Lt,[u[15]||(u[15]=I(" Er is maar één reel. ")),u[16]||(u[16]=N("br",null,null,-1)),u[17]||(u[17]=I(" Een pauze zou halverwege kunnen worden ingepland (bijvoorbeeld na ")),N("b",null,C(B(.5*q.value,h.value[0].frameRate)),1),u[18]||(u[18]=I(" of 50%). "))]))])])])):(w(),L("p",Mt,"Geen bestand geüpload"))]),$(A,{style:{flex:"229px 1 1"}},{default:z(()=>[$(i,null,{default:z(()=>[$(_,{value:"Configuratie"},{default:z(()=>[N("fieldset",null,[u[23]||(u[23]=N("legend",null,"Pauzesuggestie",-1)),$(g,{modelValue:j(a),"onUpdate:modelValue":u[1]||(u[1]=b=>et(a)?a.value=b:null),modelModifiers:{number:!0},identifier:"intermissionPercentageDev",unit:"%"},{default:z(()=>[u[22]||(u[22]=I(" Maximale afwijking van middenpunt ")),N("small",null,"De filmpauze kan worden geplaatst tussen "+C(50-j(a))+"% en "+C(50+j(a))+"% van de film. ",1)]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1})])]),j(H)?(w(),L("div",Bt," Laat los om bestand te uploaden ")):se("",!0)],512)],64)}}},Yt=Be(Ut,[["__scopeId","data-v-19dd3a56"]]);export{Yt as default};
