import{c as K,_ as X,a as Y,b as Z,S as ee}from"./FileUploadButton-2SIyWTRm.js";import{z as h,c as i,b as t,a as j,d as G,A as z,B as O,h as n,D as L,P as le,O as M,g as a,j as p,p as D,w as s,m as v,G as P,i as U,F as I,l as A,s as F,v as E,r as T,Q as ne,_ as oe,L as te,k as se,E as ue}from"./index-DoatqyxQ.js";const ae={},ie={class:"primary center",type:"button"};function de(b,f){return t(),i("button",ie,[j(b.$slots,"default",{},void 0,!0)])}const H=h(ae,[["render",de],["__scopeId","data-v-a22debdb"]]),re=["for"],me={class:"title"},pe=["id"],ve=G({__name:"InputText",props:z({identifier:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(b){const f=O(b,"modelValue");return(o,d)=>(t(),i("label",{class:"input",for:o.identifier},[n("div",me,[j(o.$slots,"default",{},void 0,!0)]),L(n("input",{type:"text",id:o.identifier,"onUpdate:modelValue":d[0]||(d[0]=u=>f.value=u)},null,8,pe),[[le,f.value]])],8,re))}}),_e=h(ve,[["__scopeId","data-v-7bce26f6"]]),ce={id:"upload"},fe={class:"block"},ge={class:"flex block"},$e={key:0,class:"pictures",style:{"flex-grow":"1"}},ke=["src","onClick"],we={key:1,style:{"flex-grow":"1"}},be={key:2,class:"buttons",style:{"flex-shrink":"0"}},Ve={key:0},ye=G({__name:"SlideshowUploadSection",props:{modelValue:{},modelModifiers:{}},emits:z(["slide-clicked"],["update:modelValue"]),setup(b,{emit:f}){const o=O(b,"modelValue"),d=f,u=M("server-url",""),m=M("server-username",""),g=M("server-password","");V();async function V(){const l=await(await fetch(`${u.value}/users/${m.value}/pictures`)).json();o.value=l.map(_=>`${u.value}/users/${m.value}/pictures/${_}`)}async function $(k){const l=new FormData;for(const c of k)l.append("pictures",c);const w=await(await fetch(`${u.value}/users/${m.value}/pictures`,{method:"POST",headers:{Authorization:"Basic "+btoa(`${m.value}:${g.value}`)},body:l})).json();o.value=[...o.value,...w.files.map(c=>`${u.value}/users/${m.value}/pictures/${c}`)].sort((c,C)=>c.localeCompare(C))}async function S(){await(await fetch(`${u.value}/users/${m.value}/pictures`,{method:"DELETE",headers:{Authorization:"Basic "+btoa(`${m.value}:${g.value}`)}})).json(),o.value=[]}return(k,l)=>{const _=_e,w=P,c=H,C=K;return t(),i("section",ce,[l[11]||(l[11]=n("h2",null,"Opslaglocatie",-1)),n("div",fe,[a(_,{modelValue:p(u),"onUpdate:modelValue":l[0]||(l[0]=e=>D(u)?u.value=e:null),identifier:"url"},{default:s(()=>l[3]||(l[3]=[n("span",null,"Adres",-1)])),_:1},8,["modelValue"]),a(_,{modelValue:p(m),"onUpdate:modelValue":l[1]||(l[1]=e=>D(m)?m.value=e:null),identifier:"username"},{default:s(()=>l[4]||(l[4]=[n("span",null,"Gebruikersnaam",-1)])),_:1},8,["modelValue"]),a(_,{modelValue:p(g),"onUpdate:modelValue":l[2]||(l[2]=e=>D(g)?g.value=e:null),identifier:"password"},{default:s(()=>l[5]||(l[5]=[n("span",null,"Wachtwoord",-1)])),_:1},8,["modelValue"]),a(c,{onClick:V},{default:s(()=>[a(w,null,{default:s(()=>l[6]||(l[6]=[v("cloud_download")])),_:1}),l[7]||(l[7]=v("Nu ophalen "))]),_:1})]),l[12]||(l[12]=n("h2",null,"Dia's",-1)),n("div",ge,[o.value.length?(t(),i("div",$e,[(t(!0),i(I,null,A(o.value,(e,B)=>(t(),i("img",{src:e,onClick:N=>d("slide-clicked",B)},null,8,ke))),256))])):(t(),i("p",we,l[8]||(l[8]=[v(" Geen afbeeldingen geüpload "),n("br",null,null,-1),n("small",null,"Geen afbeeldingen aanwezig op server of geen verbinding met server",-1)]))),p(u)&&p(m)&&p(g)?(t(),i("div",be,[a(C,{id:"file-upload-area",class:E({large:!o.value.length}),onFilesUploaded:$,accept:"image/*",multiple:""},{default:s(()=>[o.value.length?U("",!0):(t(),i("small",Ve,"Of sleep bestanden hiernaartoe"))]),_:1},8,["class"]),o.value.length?(t(),F(c,{key:0,onClick:S},{default:s(()=>[a(w,null,{default:s(()=>l[9]||(l[9]=[v("delete_forever")])),_:1}),l[10]||(l[10]=v("Alles verwijderen "))]),_:1})):U("",!0)])):U("",!0)])])}}}),Se=h(ye,[["__scopeId","data-v-97e2fd73"]]),Ce={class:"container dark"},xe={id:"pictures"},Te={class:"grid"},Me=["src"],De={key:0,class:"message"},Ue={class:"control dotnav"},Ie=["onClick"],he={key:0},Be={key:1},Ae=G({__name:"SlideshowView",setup(b){const f=T(null),o=T([]),d=T(0),u=M("slideshow-duration",60),{isFullscreen:m,enter:g,toggle:V}=ne(f),$=T(!1);let S,k;function l(){$.value=!0,clearTimeout(S),S=setTimeout(()=>{$.value=!1},2e3)}function _(){clearTimeout(k),k=setTimeout(()=>{w(),_()},u.value*1e3)}function w(){d.value=(d.value+1)%o.value.length||0}function c(){d.value=(d.value-1+o.value.length)%o.value.length||0}return _(),(C,e)=>{const B=oe,N=Se,y=P,Q=Z,R=H,W=Y,q=X,J=ee;return t(),i(I,null,[a(B),n("main",Ce,[a(N,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),onSlideClicked:e[1]||(e[1]=r=>d.value=r)},null,8,["modelValue"]),n("section",xe,[n("div",Te,[n("div",null,[e[11]||(e[11]=n("h2",null,"Diavoorstelling",-1)),n("div",{class:E(["carousel",{"mouse-moving":$.value}]),ref_key:"carousel",ref:f,onMousemove:l,onMouseenter:e[3]||(e[3]=r=>$.value=!0),onMouseleave:e[4]||(e[4]=r=>$.value=!1)},[a(te,{name:"slide"},{default:s(()=>[(t(!0),i(I,null,A(o.value,(r,x)=>L((t(),i("img",{key:r,src:r},null,8,Me)),[[ue,x===d.value]])),128))]),_:1}),o.value.length?U("",!0):(t(),i("p",De,"Geen afbeeldingen geüpload")),n("button",{class:"control fullscreen",onClick:e[2]||(e[2]=(...r)=>p(V)&&p(V)(...r))},[p(m)?(t(),F(y,{key:0},{default:s(()=>e[7]||(e[7]=[v("fullscreen_exit")])),_:1})):(t(),F(y,{key:1},{default:s(()=>e[8]||(e[8]=[v("fullscreen")])),_:1}))]),n("button",{class:"control previous",onClick:c},[a(y,null,{default:s(()=>e[9]||(e[9]=[v("chevron_left")])),_:1})]),n("button",{class:"control next",onClick:w},[a(y,null,{default:s(()=>e[10]||(e[10]=[v("chevron_right")])),_:1})]),n("div",Ue,[(t(!0),i(I,null,A(o.value,(r,x)=>(t(),i("button",{onClick:Fe=>d.value=x,class:E({active:x===d.value})},null,10,Ie))),256))])],34)]),a(J,null,{default:s(()=>[a(q,null,{default:s(()=>[a(W,{value:"Opties"},{default:s(()=>[n("fieldset",null,[e[15]||(e[15]=n("legend",null,"Automatische weergave",-1)),a(Q,{modelValue:p(u),"onUpdate:modelValue":e[5]||(e[5]=r=>D(u)?u.value=r:null),modelModifiers:{number:!0},onChange:_,identifier:"slideDuration",step:"1",min:"0",max:"240",unit:"s"},{default:s(()=>[e[12]||(e[12]=v(" Seconden per dia ")),p(u)>0?(t(),i("small",he," Elke "+se(p(u))+" seconden wordt de volgende dia getoond. ",1)):(t(),i("small",Be," De automatische weergave is uitgeschakeld. "))]),_:1},8,["modelValue"]),a(R,{class:"full",onClick:e[6]||(e[6]=r=>{d.value=0,_(),p(g)()})},{default:s(()=>[a(y,null,{default:s(()=>e[13]||(e[13]=[v("play_arrow")])),_:1}),e[14]||(e[14]=v("Automatische weergave starten "))]),_:1})])]),_:1})]),_:1})]),_:1})])])])],64)}}}),Ne=h(Ae,[["__scopeId","data-v-b2bb84fd"]]);export{Ne as default};
