import{e as Ge,u as qe,_ as Xe,a as Ye,b as He,S as ze}from"./FileUploadButton-BGcmOUY6.js";import{_ as We}from"./Chip-B6w1O_v-.js";import{K as $e,r as he,d as Qe,c as V,o as P,g as A,u as q,k as w,i as I,f as Je,e as W,w as z,x as Be,b as Z,_ as Ze,C as et,q as De,p as me,h as ue,F as de,j as Ce,n as tt,l as nt}from"./index-C01LYYkr.js";import{g as it}from"./_commonjsHelpers-_d1bhYXs.js";import{n as at}from"./nl-Bco7XObu.js";var Ee={};const rt={},st=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"})),Ie=it(st);var Se;function ut(){return Se||(Se=1,function(T){(function(l){l.parser=function(t,e){return new a(t,e)},l.SAXParser=a,l.SAXStream=K,l.createStream=B,l.MAX_BUFFER_LENGTH=64*1024;var E=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];l.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function a(t,e){if(!(this instanceof a))return new a(t,e);var o=this;C(o),o.q=o.c="",o.bufferCheckPosition=l.MAX_BUFFER_LENGTH,o.opt=e||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!t,o.noscript=!!(t||o.opt.noscript),o.state=i.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(l.XML_ENTITIES):Object.create(l.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(y)),o.opt.unquotedAttributeValues===void 0&&(o.opt.unquotedAttributeValues=!t),o.trackPosition=o.opt.position!==!1,o.trackPosition&&(o.position=o.line=o.column=0),ee(o,"onready")}Object.create||(Object.create=function(t){function e(){}e.prototype=t;var o=new e;return o}),Object.keys||(Object.keys=function(t){var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(o);return e});function d(t){for(var e=Math.max(l.MAX_BUFFER_LENGTH,10),o=0,s=0,h=E.length;s<h;s++){var L=t[E[s]].length;if(L>e)switch(E[s]){case"textNode":G(t);break;case"cdata":N(t,"oncdata",t.cdata),t.cdata="";break;case"script":N(t,"onscript",t.script),t.script="";break;default:v(t,"Max buffer length exceeded: "+E[s])}o=Math.max(o,L)}var M=l.MAX_BUFFER_LENGTH-o;t.bufferCheckPosition=M+t.position}function C(t){for(var e=0,o=E.length;e<o;e++)t[E[e]]=""}function R(t){G(t),t.cdata!==""&&(N(t,"oncdata",t.cdata),t.cdata=""),t.script!==""&&(N(t,"onscript",t.script),t.script="")}a.prototype={end:function(){p(this)},write:ce,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){R(this)}};var S;try{S=Ie.Stream}catch{S=function(){}}S||(S=function(){});var D=l.EVENTS.filter(function(t){return t!=="error"&&t!=="end"});function B(t,e){return new K(t,e)}function K(t,e){if(!(this instanceof K))return new K(t,e);S.apply(this),this._parser=new a(t,e),this.writable=!0,this.readable=!0;var o=this;this._parser.onend=function(){o.emit("end")},this._parser.onerror=function(s){o.emit("error",s),o._parser.error=null},this._decoder=null,D.forEach(function(s){Object.defineProperty(o,"on"+s,{get:function(){return o._parser["on"+s]},set:function(h){if(!h)return o.removeAllListeners(s),o._parser["on"+s]=h,h;o.on(s,h)},enumerable:!0,configurable:!1})})}K.prototype=Object.create(S.prototype,{constructor:{value:K}}),K.prototype.write=function(t){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(t)){if(!this._decoder){var e=Ie.StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},K.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},K.prototype.on=function(t,e){var o=this;return!o._parser["on"+t]&&D.indexOf(t)!==-1&&(o._parser["on"+t]=function(){var s=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);s.splice(0,0,t),o.emit.apply(o,s)}),S.prototype.on.call(o,t,e)};var H="[CDATA[",U="DOCTYPE",k="http://www.w3.org/XML/1998/namespace",$="http://www.w3.org/2000/xmlns/",y={xml:k,xmlns:$},c=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function n(t){return t===" "||t===`
`||t==="\r"||t==="	"}function f(t){return t==='"'||t==="'"}function g(t){return t===">"||n(t)}function _(t,e){return t.test(e)}function b(t,e){return!_(t,e)}var i=0;l.STATE={BEGIN:i++,BEGIN_WHITESPACE:i++,TEXT:i++,TEXT_ENTITY:i++,OPEN_WAKA:i++,SGML_DECL:i++,SGML_DECL_QUOTED:i++,DOCTYPE:i++,DOCTYPE_QUOTED:i++,DOCTYPE_DTD:i++,DOCTYPE_DTD_QUOTED:i++,COMMENT_STARTING:i++,COMMENT:i++,COMMENT_ENDING:i++,COMMENT_ENDED:i++,CDATA:i++,CDATA_ENDING:i++,CDATA_ENDING_2:i++,PROC_INST:i++,PROC_INST_BODY:i++,PROC_INST_ENDING:i++,OPEN_TAG:i++,OPEN_TAG_SLASH:i++,ATTRIB:i++,ATTRIB_NAME:i++,ATTRIB_NAME_SAW_WHITE:i++,ATTRIB_VALUE:i++,ATTRIB_VALUE_QUOTED:i++,ATTRIB_VALUE_CLOSED:i++,ATTRIB_VALUE_UNQUOTED:i++,ATTRIB_VALUE_ENTITY_Q:i++,ATTRIB_VALUE_ENTITY_U:i++,CLOSE_TAG:i++,CLOSE_TAG_SAW_WHITE:i++,SCRIPT:i++,SCRIPT_ENDING:i++},l.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},l.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(l.ENTITIES).forEach(function(t){var e=l.ENTITIES[t],o=typeof e=="number"?String.fromCharCode(e):e;l.ENTITIES[t]=o});for(var F in l.STATE)l.STATE[l.STATE[F]]=F;i=l.STATE;function ee(t,e,o){t[e]&&t[e](o)}function N(t,e,o){t.textNode&&G(t),ee(t,e,o)}function G(t){t.textNode=O(t.opt,t.textNode),t.textNode&&ee(t,"ontext",t.textNode),t.textNode=""}function O(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function v(t,e){return G(t),t.trackPosition&&(e+=`
Line: `+t.line+`
Column: `+t.column+`
Char: `+t.c),e=new Error(e),t.error=e,ee(t,"onerror",e),t}function p(t){return t.sawRoot&&!t.closedRoot&&x(t,"Unclosed root tag"),t.state!==i.BEGIN&&t.state!==i.BEGIN_WHITESPACE&&t.state!==i.TEXT&&v(t,"Unexpected end"),G(t),t.c="",t.closed=!0,ee(t,"onend"),a.call(t,t.strict,t.opt),t}function x(t,e){if(typeof t!="object"||!(t instanceof a))throw new Error("bad call to strictFail");t.strict&&v(t,e)}function le(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,o=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(o.ns=e.ns),t.attribList.length=0,N(t,"onopentagstart",o)}function te(t,e){var o=t.indexOf(":"),s=o<0?["",t]:t.split(":"),h=s[0],L=s[1];return e&&t==="xmlns"&&(h="xmlns",L=""),{prefix:h,local:L}}function ne(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),t.attribList.indexOf(t.attribName)!==-1||t.tag.attributes.hasOwnProperty(t.attribName)){t.attribName=t.attribValue="";return}if(t.opt.xmlns){var e=te(t.attribName,!0),o=e.prefix,s=e.local;if(o==="xmlns")if(s==="xml"&&t.attribValue!==k)x(t,"xml: prefix must be bound to "+k+`
Actual: `+t.attribValue);else if(s==="xmlns"&&t.attribValue!==$)x(t,"xmlns: prefix must be bound to "+$+`
Actual: `+t.attribValue);else{var h=t.tag,L=t.tags[t.tags.length-1]||t;h.ns===L.ns&&(h.ns=Object.create(L.ns)),h.ns[s]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,N(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function Q(t,e){if(t.opt.xmlns){var o=t.tag,s=te(t.tagName);o.prefix=s.prefix,o.local=s.local,o.uri=o.ns[s.prefix]||"",o.prefix&&!o.uri&&(x(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),o.uri=s.prefix);var h=t.tags[t.tags.length-1]||t;o.ns&&h.ns!==o.ns&&Object.keys(o.ns).forEach(function(xe){N(t,"onopennamespace",{prefix:xe,uri:o.ns[xe]})});for(var L=0,M=t.attribList.length;L<M;L++){var X=t.attribList[L],Y=X[0],ae=X[1],j=te(Y,!0),J=j.prefix,Ve=j.local,pe=J===""?"":o.ns[J]||"",fe={name:Y,value:ae,prefix:J,local:Ve,uri:pe};J&&J!=="xmlns"&&!pe&&(x(t,"Unbound namespace prefix: "+JSON.stringify(J)),fe.uri=J),t.tag.attributes[Y]=fe,N(t,"onattribute",fe)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),N(t,"onopentag",t.tag),e||(!t.noscript&&t.tagName.toLowerCase()==="script"?t.state=i.SCRIPT:t.state=i.TEXT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function ie(t){if(!t.tagName){x(t,"Weird empty close tag."),t.textNode+="</>",t.state=i.TEXT;return}if(t.script){if(t.tagName!=="script"){t.script+="</"+t.tagName+">",t.tagName="",t.state=i.SCRIPT;return}N(t,"onscript",t.script),t.script=""}var e=t.tags.length,o=t.tagName;t.strict||(o=o[t.looseCase]());for(var s=o;e--;){var h=t.tags[e];if(h.name!==s)x(t,"Unexpected close tag");else break}if(e<0){x(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",t.state=i.TEXT;return}t.tagName=o;for(var L=t.tags.length;L-- >e;){var M=t.tag=t.tags.pop();t.tagName=t.tag.name,N(t,"onclosetag",t.tagName);var X={};for(var Y in M.ns)X[Y]=M.ns[Y];var ae=t.tags[t.tags.length-1]||t;t.opt.xmlns&&M.ns!==ae.ns&&Object.keys(M.ns).forEach(function(j){var J=M.ns[j];N(t,"onclosenamespace",{prefix:j,uri:J})})}e===0&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=i.TEXT}function oe(t){var e=t.entity,o=e.toLowerCase(),s,h="";return t.ENTITIES[e]?t.ENTITIES[e]:t.ENTITIES[o]?t.ENTITIES[o]:(e=o,e.charAt(0)==="#"&&(e.charAt(1)==="x"?(e=e.slice(2),s=parseInt(e,16),h=s.toString(16)):(e=e.slice(1),s=parseInt(e,10),h=s.toString(10))),e=e.replace(/^0+/,""),isNaN(s)||h.toLowerCase()!==e?(x(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(s))}function re(t,e){e==="<"?(t.state=i.OPEN_WAKA,t.startTagPosition=t.position):n(e)||(x(t,"Non-whitespace before first tag."),t.textNode=e,t.state=i.TEXT)}function se(t,e){var o="";return e<t.length&&(o=t.charAt(e)),o}function ce(t){var e=this;if(this.error)throw this.error;if(e.closed)return v(e,"Cannot write after close. Assign an onready handler.");if(t===null)return p(e);typeof t=="object"&&(t=t.toString());for(var o=0,s="";s=se(t,o++),e.c=s,!!s;)switch(e.trackPosition&&(e.position++,s===`
`?(e.line++,e.column=0):e.column++),e.state){case i.BEGIN:if(e.state=i.BEGIN_WHITESPACE,s==="\uFEFF")continue;re(e,s);continue;case i.BEGIN_WHITESPACE:re(e,s);continue;case i.TEXT:if(e.sawRoot&&!e.closedRoot){for(var h=o-1;s&&s!=="<"&&s!=="&";)s=se(t,o++),s&&e.trackPosition&&(e.position++,s===`
`?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(h,o-1)}s==="<"&&!(e.sawRoot&&e.closedRoot&&!e.strict)?(e.state=i.OPEN_WAKA,e.startTagPosition=e.position):(!n(s)&&(!e.sawRoot||e.closedRoot)&&x(e,"Text data outside of root node."),s==="&"?e.state=i.TEXT_ENTITY:e.textNode+=s);continue;case i.SCRIPT:s==="<"?e.state=i.SCRIPT_ENDING:e.script+=s;continue;case i.SCRIPT_ENDING:s==="/"?e.state=i.CLOSE_TAG:(e.script+="<"+s,e.state=i.SCRIPT);continue;case i.OPEN_WAKA:if(s==="!")e.state=i.SGML_DECL,e.sgmlDecl="";else if(!n(s))if(_(c,s))e.state=i.OPEN_TAG,e.tagName=s;else if(s==="/")e.state=i.CLOSE_TAG,e.tagName="";else if(s==="?")e.state=i.PROC_INST,e.procInstName=e.procInstBody="";else{if(x(e,"Unencoded <"),e.startTagPosition+1<e.position){var L=e.position-e.startTagPosition;s=new Array(L).join(" ")+s}e.textNode+="<"+s,e.state=i.TEXT}continue;case i.SGML_DECL:if(e.sgmlDecl+s==="--"){e.state=i.COMMENT,e.comment="",e.sgmlDecl="";continue}e.doctype&&e.doctype!==!0&&e.sgmlDecl?(e.state=i.DOCTYPE_DTD,e.doctype+="<!"+e.sgmlDecl+s,e.sgmlDecl=""):(e.sgmlDecl+s).toUpperCase()===H?(N(e,"onopencdata"),e.state=i.CDATA,e.sgmlDecl="",e.cdata=""):(e.sgmlDecl+s).toUpperCase()===U?(e.state=i.DOCTYPE,(e.doctype||e.sawRoot)&&x(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):s===">"?(N(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=i.TEXT):(f(s)&&(e.state=i.SGML_DECL_QUOTED),e.sgmlDecl+=s);continue;case i.SGML_DECL_QUOTED:s===e.q&&(e.state=i.SGML_DECL,e.q=""),e.sgmlDecl+=s;continue;case i.DOCTYPE:s===">"?(e.state=i.TEXT,N(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=s,s==="["?e.state=i.DOCTYPE_DTD:f(s)&&(e.state=i.DOCTYPE_QUOTED,e.q=s));continue;case i.DOCTYPE_QUOTED:e.doctype+=s,s===e.q&&(e.q="",e.state=i.DOCTYPE);continue;case i.DOCTYPE_DTD:s==="]"?(e.doctype+=s,e.state=i.DOCTYPE):s==="<"?(e.state=i.OPEN_WAKA,e.startTagPosition=e.position):f(s)?(e.doctype+=s,e.state=i.DOCTYPE_DTD_QUOTED,e.q=s):e.doctype+=s;continue;case i.DOCTYPE_DTD_QUOTED:e.doctype+=s,s===e.q&&(e.state=i.DOCTYPE_DTD,e.q="");continue;case i.COMMENT:s==="-"?e.state=i.COMMENT_ENDING:e.comment+=s;continue;case i.COMMENT_ENDING:s==="-"?(e.state=i.COMMENT_ENDED,e.comment=O(e.opt,e.comment),e.comment&&N(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+s,e.state=i.COMMENT);continue;case i.COMMENT_ENDED:s!==">"?(x(e,"Malformed comment"),e.comment+="--"+s,e.state=i.COMMENT):e.doctype&&e.doctype!==!0?e.state=i.DOCTYPE_DTD:e.state=i.TEXT;continue;case i.CDATA:s==="]"?e.state=i.CDATA_ENDING:e.cdata+=s;continue;case i.CDATA_ENDING:s==="]"?e.state=i.CDATA_ENDING_2:(e.cdata+="]"+s,e.state=i.CDATA);continue;case i.CDATA_ENDING_2:s===">"?(e.cdata&&N(e,"oncdata",e.cdata),N(e,"onclosecdata"),e.cdata="",e.state=i.TEXT):s==="]"?e.cdata+="]":(e.cdata+="]]"+s,e.state=i.CDATA);continue;case i.PROC_INST:s==="?"?e.state=i.PROC_INST_ENDING:n(s)?e.state=i.PROC_INST_BODY:e.procInstName+=s;continue;case i.PROC_INST_BODY:if(!e.procInstBody&&n(s))continue;s==="?"?e.state=i.PROC_INST_ENDING:e.procInstBody+=s;continue;case i.PROC_INST_ENDING:s===">"?(N(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=i.TEXT):(e.procInstBody+="?"+s,e.state=i.PROC_INST_BODY);continue;case i.OPEN_TAG:_(u,s)?e.tagName+=s:(le(e),s===">"?Q(e):s==="/"?e.state=i.OPEN_TAG_SLASH:(n(s)||x(e,"Invalid character in tag name"),e.state=i.ATTRIB));continue;case i.OPEN_TAG_SLASH:s===">"?(Q(e,!0),ie(e)):(x(e,"Forward-slash in opening tag not followed by >"),e.state=i.ATTRIB);continue;case i.ATTRIB:if(n(s))continue;s===">"?Q(e):s==="/"?e.state=i.OPEN_TAG_SLASH:_(c,s)?(e.attribName=s,e.attribValue="",e.state=i.ATTRIB_NAME):x(e,"Invalid attribute name");continue;case i.ATTRIB_NAME:s==="="?e.state=i.ATTRIB_VALUE:s===">"?(x(e,"Attribute without value"),e.attribValue=e.attribName,ne(e),Q(e)):n(s)?e.state=i.ATTRIB_NAME_SAW_WHITE:_(u,s)?e.attribName+=s:x(e,"Invalid attribute name");continue;case i.ATTRIB_NAME_SAW_WHITE:if(s==="=")e.state=i.ATTRIB_VALUE;else{if(n(s))continue;x(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",N(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",s===">"?Q(e):_(c,s)?(e.attribName=s,e.state=i.ATTRIB_NAME):(x(e,"Invalid attribute name"),e.state=i.ATTRIB)}continue;case i.ATTRIB_VALUE:if(n(s))continue;f(s)?(e.q=s,e.state=i.ATTRIB_VALUE_QUOTED):(e.opt.unquotedAttributeValues||v(e,"Unquoted attribute value"),e.state=i.ATTRIB_VALUE_UNQUOTED,e.attribValue=s);continue;case i.ATTRIB_VALUE_QUOTED:if(s!==e.q){s==="&"?e.state=i.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=s;continue}ne(e),e.q="",e.state=i.ATTRIB_VALUE_CLOSED;continue;case i.ATTRIB_VALUE_CLOSED:n(s)?e.state=i.ATTRIB:s===">"?Q(e):s==="/"?e.state=i.OPEN_TAG_SLASH:_(c,s)?(x(e,"No whitespace between attributes"),e.attribName=s,e.attribValue="",e.state=i.ATTRIB_NAME):x(e,"Invalid attribute name");continue;case i.ATTRIB_VALUE_UNQUOTED:if(!g(s)){s==="&"?e.state=i.ATTRIB_VALUE_ENTITY_U:e.attribValue+=s;continue}ne(e),s===">"?Q(e):e.state=i.ATTRIB;continue;case i.CLOSE_TAG:if(e.tagName)s===">"?ie(e):_(u,s)?e.tagName+=s:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=i.SCRIPT):(n(s)||x(e,"Invalid tagname in closing tag"),e.state=i.CLOSE_TAG_SAW_WHITE);else{if(n(s))continue;b(c,s)?e.script?(e.script+="</"+s,e.state=i.SCRIPT):x(e,"Invalid tagname in closing tag."):e.tagName=s}continue;case i.CLOSE_TAG_SAW_WHITE:if(n(s))continue;s===">"?ie(e):x(e,"Invalid characters in closing tag");continue;case i.TEXT_ENTITY:case i.ATTRIB_VALUE_ENTITY_Q:case i.ATTRIB_VALUE_ENTITY_U:var M,X;switch(e.state){case i.TEXT_ENTITY:M=i.TEXT,X="textNode";break;case i.ATTRIB_VALUE_ENTITY_Q:M=i.ATTRIB_VALUE_QUOTED,X="attribValue";break;case i.ATTRIB_VALUE_ENTITY_U:M=i.ATTRIB_VALUE_UNQUOTED,X="attribValue";break}if(s===";"){var Y=oe(e);e.opt.unparsedEntities&&!Object.values(l.XML_ENTITIES).includes(Y)?(e.entity="",e.state=M,e.write(Y)):(e[X]+=Y,e.entity="",e.state=M)}else _(e.entity.length?r:m,s)?e.entity+=s:(x(e,"Invalid character in entity name"),e[X]+="&"+e.entity+s,e.entity="",e.state=M);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&d(e),e}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var t=String.fromCharCode,e=Math.floor,o=function(){var s=16384,h=[],L,M,X=-1,Y=arguments.length;if(!Y)return"";for(var ae="";++X<Y;){var j=Number(arguments[X]);if(!isFinite(j)||j<0||j>1114111||e(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?h.push(j):(j-=65536,L=(j>>10)+55296,M=j%1024+56320,h.push(L,M)),(X+1===Y||h.length>s)&&(ae+=t.apply(null,h),h.length=0)}return ae};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:o,configurable:!0,writable:!0}):String.fromCodePoint=o}()})(T)}(Ee)),Ee}var Te,Oe;function Fe(){return Oe||(Oe=1,Te={isArray:function(T){return Array.isArray?Array.isArray(T):Object.prototype.toString.call(T)==="[object Array]"}}),Te}var ge,we;function ve(){if(we)return ge;we=1;var T=Fe().isArray;return ge={copyOptions:function(l){var E,a={};for(E in l)l.hasOwnProperty(E)&&(a[E]=l[E]);return a},ensureFlagExists:function(l,E){(!(l in E)||typeof E[l]!="boolean")&&(E[l]=!1)},ensureSpacesExists:function(l){(!("spaces"in l)||typeof l.spaces!="number"&&typeof l.spaces!="string")&&(l.spaces=0)},ensureAlwaysArrayExists:function(l){(!("alwaysArray"in l)||typeof l.alwaysArray!="boolean"&&!T(l.alwaysArray))&&(l.alwaysArray=!1)},ensureKeyExists:function(l,E){(!(l+"Key"in E)||typeof E[l+"Key"]!="string")&&(E[l+"Key"]=E.compact?"_"+l:l)},checkFnExists:function(l,E){return l+"Fn"in E}},ge}var ye,Re;function Ue(){if(Re)return ye;Re=1;var T=ut(),l=ve(),E=Fe().isArray,a,d;function C(u){return a=l.copyOptions(u),l.ensureFlagExists("ignoreDeclaration",a),l.ensureFlagExists("ignoreInstruction",a),l.ensureFlagExists("ignoreAttributes",a),l.ensureFlagExists("ignoreText",a),l.ensureFlagExists("ignoreComment",a),l.ensureFlagExists("ignoreCdata",a),l.ensureFlagExists("ignoreDoctype",a),l.ensureFlagExists("compact",a),l.ensureFlagExists("alwaysChildren",a),l.ensureFlagExists("addParent",a),l.ensureFlagExists("trim",a),l.ensureFlagExists("nativeType",a),l.ensureFlagExists("nativeTypeAttributes",a),l.ensureFlagExists("sanitize",a),l.ensureFlagExists("instructionHasAttributes",a),l.ensureFlagExists("captureSpacesBetweenElements",a),l.ensureAlwaysArrayExists(a),l.ensureKeyExists("declaration",a),l.ensureKeyExists("instruction",a),l.ensureKeyExists("attributes",a),l.ensureKeyExists("text",a),l.ensureKeyExists("comment",a),l.ensureKeyExists("cdata",a),l.ensureKeyExists("doctype",a),l.ensureKeyExists("type",a),l.ensureKeyExists("name",a),l.ensureKeyExists("elements",a),l.ensureKeyExists("parent",a),l.checkFnExists("doctype",a),l.checkFnExists("instruction",a),l.checkFnExists("cdata",a),l.checkFnExists("comment",a),l.checkFnExists("text",a),l.checkFnExists("instructionName",a),l.checkFnExists("elementName",a),l.checkFnExists("attributeName",a),l.checkFnExists("attributeValue",a),l.checkFnExists("attributes",a),a}function R(u){var m=Number(u);if(!isNaN(m))return m;var r=u.toLowerCase();return r==="true"?!0:r==="false"?!1:u}function S(u,m){var r;if(a.compact){if(!d[a[u+"Key"]]&&(E(a.alwaysArray)?a.alwaysArray.indexOf(a[u+"Key"])!==-1:a.alwaysArray)&&(d[a[u+"Key"]]=[]),d[a[u+"Key"]]&&!E(d[a[u+"Key"]])&&(d[a[u+"Key"]]=[d[a[u+"Key"]]]),u+"Fn"in a&&typeof m=="string"&&(m=a[u+"Fn"](m,d)),u==="instruction"&&("instructionFn"in a||"instructionNameFn"in a)){for(r in m)if(m.hasOwnProperty(r))if("instructionFn"in a)m[r]=a.instructionFn(m[r],r,d);else{var n=m[r];delete m[r],m[a.instructionNameFn(r,n,d)]=n}}E(d[a[u+"Key"]])?d[a[u+"Key"]].push(m):d[a[u+"Key"]]=m}else{d[a.elementsKey]||(d[a.elementsKey]=[]);var f={};if(f[a.typeKey]=u,u==="instruction"){for(r in m)if(m.hasOwnProperty(r))break;f[a.nameKey]="instructionNameFn"in a?a.instructionNameFn(r,m,d):r,a.instructionHasAttributes?(f[a.attributesKey]=m[r][a.attributesKey],"instructionFn"in a&&(f[a.attributesKey]=a.instructionFn(f[a.attributesKey],r,d))):("instructionFn"in a&&(m[r]=a.instructionFn(m[r],r,d)),f[a.instructionKey]=m[r])}else u+"Fn"in a&&(m=a[u+"Fn"](m,d)),f[a[u+"Key"]]=m;a.addParent&&(f[a.parentKey]=d),d[a.elementsKey].push(f)}}function D(u){if("attributesFn"in a&&u&&(u=a.attributesFn(u,d)),(a.trim||"attributeValueFn"in a||"attributeNameFn"in a||a.nativeTypeAttributes)&&u){var m;for(m in u)if(u.hasOwnProperty(m)&&(a.trim&&(u[m]=u[m].trim()),a.nativeTypeAttributes&&(u[m]=R(u[m])),"attributeValueFn"in a&&(u[m]=a.attributeValueFn(u[m],m,d)),"attributeNameFn"in a)){var r=u[m];delete u[m],u[a.attributeNameFn(m,u[m],d)]=r}}return u}function B(u){var m={};if(u.body&&(u.name.toLowerCase()==="xml"||a.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,n;(n=r.exec(u.body))!==null;)m[n[1]]=n[2]||n[3]||n[4];m=D(m)}if(u.name.toLowerCase()==="xml"){if(a.ignoreDeclaration)return;d[a.declarationKey]={},Object.keys(m).length&&(d[a.declarationKey][a.attributesKey]=m),a.addParent&&(d[a.declarationKey][a.parentKey]=d)}else{if(a.ignoreInstruction)return;a.trim&&(u.body=u.body.trim());var f={};a.instructionHasAttributes&&Object.keys(m).length?(f[u.name]={},f[u.name][a.attributesKey]=m):f[u.name]=u.body,S("instruction",f)}}function K(u,m){var r;if(typeof u=="object"&&(m=u.attributes,u=u.name),m=D(m),"elementNameFn"in a&&(u=a.elementNameFn(u,d)),a.compact){if(r={},!a.ignoreAttributes&&m&&Object.keys(m).length){r[a.attributesKey]={};var n;for(n in m)m.hasOwnProperty(n)&&(r[a.attributesKey][n]=m[n])}!(u in d)&&(E(a.alwaysArray)?a.alwaysArray.indexOf(u)!==-1:a.alwaysArray)&&(d[u]=[]),d[u]&&!E(d[u])&&(d[u]=[d[u]]),E(d[u])?d[u].push(r):d[u]=r}else d[a.elementsKey]||(d[a.elementsKey]=[]),r={},r[a.typeKey]="element",r[a.nameKey]=u,!a.ignoreAttributes&&m&&Object.keys(m).length&&(r[a.attributesKey]=m),a.alwaysChildren&&(r[a.elementsKey]=[]),d[a.elementsKey].push(r);r[a.parentKey]=d,d=r}function H(u){a.ignoreText||!u.trim()&&!a.captureSpacesBetweenElements||(a.trim&&(u=u.trim()),a.nativeType&&(u=R(u)),a.sanitize&&(u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),S("text",u))}function U(u){a.ignoreComment||(a.trim&&(u=u.trim()),S("comment",u))}function k(u){var m=d[a.parentKey];a.addParent||delete d[a.parentKey],d=m}function $(u){a.ignoreCdata||(a.trim&&(u=u.trim()),S("cdata",u))}function y(u){a.ignoreDoctype||(u=u.replace(/^ /,""),a.trim&&(u=u.trim()),S("doctype",u))}function c(u){u.note=u}return ye=function(u,m){var r=T.parser(!0,{}),n={};if(d=n,a=C(m),r.opt={strictEntities:!0},r.onopentag=K,r.ontext=H,r.oncomment=U,r.onclosetag=k,r.onerror=c,r.oncdata=$,r.ondoctype=y,r.onprocessinginstruction=B,r.write(u).close(),n[a.elementsKey]){var f=n[a.elementsKey];delete n[a.elementsKey],n[a.elementsKey]=f,delete n.text}return n},ye}var _e,Ke;function lt(){if(Ke)return _e;Ke=1;var T=ve(),l=Ue();function E(a){var d=T.copyOptions(a);return T.ensureSpacesExists(d),d}return _e=function(a,d){var C,R,S,D;return C=E(d),R=l(a,C),D="compact"in C&&C.compact?"_parent":"parent","addParent"in C&&C.addParent?S=JSON.stringify(R,function(B,K){return B===D?"_":K},C.spaces):S=JSON.stringify(R,null,C.spaces),S.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},_e}var be,Pe;function ke(){if(Pe)return be;Pe=1;var T=ve(),l=Fe().isArray,E,a;function d(r){var n=T.copyOptions(r);return T.ensureFlagExists("ignoreDeclaration",n),T.ensureFlagExists("ignoreInstruction",n),T.ensureFlagExists("ignoreAttributes",n),T.ensureFlagExists("ignoreText",n),T.ensureFlagExists("ignoreComment",n),T.ensureFlagExists("ignoreCdata",n),T.ensureFlagExists("ignoreDoctype",n),T.ensureFlagExists("compact",n),T.ensureFlagExists("indentText",n),T.ensureFlagExists("indentCdata",n),T.ensureFlagExists("indentAttributes",n),T.ensureFlagExists("indentInstruction",n),T.ensureFlagExists("fullTagEmptyElement",n),T.ensureFlagExists("noQuotesForNativeAttributes",n),T.ensureSpacesExists(n),typeof n.spaces=="number"&&(n.spaces=Array(n.spaces+1).join(" ")),T.ensureKeyExists("declaration",n),T.ensureKeyExists("instruction",n),T.ensureKeyExists("attributes",n),T.ensureKeyExists("text",n),T.ensureKeyExists("comment",n),T.ensureKeyExists("cdata",n),T.ensureKeyExists("doctype",n),T.ensureKeyExists("type",n),T.ensureKeyExists("name",n),T.ensureKeyExists("elements",n),T.checkFnExists("doctype",n),T.checkFnExists("instruction",n),T.checkFnExists("cdata",n),T.checkFnExists("comment",n),T.checkFnExists("text",n),T.checkFnExists("instructionName",n),T.checkFnExists("elementName",n),T.checkFnExists("attributeName",n),T.checkFnExists("attributeValue",n),T.checkFnExists("attributes",n),T.checkFnExists("fullTagEmptyElement",n),n}function C(r,n,f){return(!f&&r.spaces?`
`:"")+Array(n+1).join(r.spaces)}function R(r,n,f){if(n.ignoreAttributes)return"";"attributesFn"in n&&(r=n.attributesFn(r,a,E));var g,_,b,i,F=[];for(g in r)r.hasOwnProperty(g)&&r[g]!==null&&r[g]!==void 0&&(i=n.noQuotesForNativeAttributes&&typeof r[g]!="string"?"":'"',_=""+r[g],_=_.replace(/"/g,"&quot;"),b="attributeNameFn"in n?n.attributeNameFn(g,_,a,E):g,F.push(n.spaces&&n.indentAttributes?C(n,f+1,!1):" "),F.push(b+"="+i+("attributeValueFn"in n?n.attributeValueFn(_,g,a,E):_)+i));return r&&Object.keys(r).length&&n.spaces&&n.indentAttributes&&F.push(C(n,f,!1)),F.join("")}function S(r,n,f){return E=r,a="xml",n.ignoreDeclaration?"":"<?xml"+R(r[n.attributesKey],n,f)+"?>"}function D(r,n,f){if(n.ignoreInstruction)return"";var g;for(g in r)if(r.hasOwnProperty(g))break;var _="instructionNameFn"in n?n.instructionNameFn(g,r[g],a,E):g;if(typeof r[g]=="object")return E=r,a=_,"<?"+_+R(r[g][n.attributesKey],n,f)+"?>";var b=r[g]?r[g]:"";return"instructionFn"in n&&(b=n.instructionFn(b,g,a,E)),"<?"+_+(b?" "+b:"")+"?>"}function B(r,n){return n.ignoreComment?"":"<!--"+("commentFn"in n?n.commentFn(r,a,E):r)+"-->"}function K(r,n){return n.ignoreCdata?"":"<![CDATA["+("cdataFn"in n?n.cdataFn(r,a,E):r.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function H(r,n){return n.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in n?n.doctypeFn(r,a,E):r)+">"}function U(r,n){return n.ignoreText?"":(r=""+r,r=r.replace(/&amp;/g,"&"),r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in n?n.textFn(r,a,E):r)}function k(r,n){var f;if(r.elements&&r.elements.length)for(f=0;f<r.elements.length;++f)switch(r.elements[f][n.typeKey]){case"text":if(n.indentText)return!0;break;case"cdata":if(n.indentCdata)return!0;break;case"instruction":if(n.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function $(r,n,f){E=r,a=r.name;var g=[],_="elementNameFn"in n?n.elementNameFn(r.name,r):r.name;g.push("<"+_),r[n.attributesKey]&&g.push(R(r[n.attributesKey],n,f));var b=r[n.elementsKey]&&r[n.elementsKey].length||r[n.attributesKey]&&r[n.attributesKey]["xml:space"]==="preserve";return b||("fullTagEmptyElementFn"in n?b=n.fullTagEmptyElementFn(r.name,r):b=n.fullTagEmptyElement),b?(g.push(">"),r[n.elementsKey]&&r[n.elementsKey].length&&(g.push(y(r[n.elementsKey],n,f+1)),E=r,a=r.name),g.push(n.spaces&&k(r,n)?`
`+Array(f+1).join(n.spaces):""),g.push("</"+_+">")):g.push("/>"),g.join("")}function y(r,n,f,g){return r.reduce(function(_,b){var i=C(n,f,g&&!_);switch(b.type){case"element":return _+i+$(b,n,f);case"comment":return _+i+B(b[n.commentKey],n);case"doctype":return _+i+H(b[n.doctypeKey],n);case"cdata":return _+(n.indentCdata?i:"")+K(b[n.cdataKey],n);case"text":return _+(n.indentText?i:"")+U(b[n.textKey],n);case"instruction":var F={};return F[b[n.nameKey]]=b[n.attributesKey]?b:b[n.instructionKey],_+(n.indentInstruction?i:"")+D(F,n,f)}},"")}function c(r,n,f){var g;for(g in r)if(r.hasOwnProperty(g))switch(g){case n.parentKey:case n.attributesKey:break;case n.textKey:if(n.indentText||f)return!0;break;case n.cdataKey:if(n.indentCdata||f)return!0;break;case n.instructionKey:if(n.indentInstruction||f)return!0;break;case n.doctypeKey:case n.commentKey:return!0;default:return!0}return!1}function u(r,n,f,g,_){E=r,a=n;var b="elementNameFn"in f?f.elementNameFn(n,r):n;if(typeof r>"u"||r===null||r==="")return"fullTagEmptyElementFn"in f&&f.fullTagEmptyElementFn(n,r)||f.fullTagEmptyElement?"<"+b+"></"+b+">":"<"+b+"/>";var i=[];if(n){if(i.push("<"+b),typeof r!="object")return i.push(">"+U(r,f)+"</"+b+">"),i.join("");r[f.attributesKey]&&i.push(R(r[f.attributesKey],f,g));var F=c(r,f,!0)||r[f.attributesKey]&&r[f.attributesKey]["xml:space"]==="preserve";if(F||("fullTagEmptyElementFn"in f?F=f.fullTagEmptyElementFn(n,r):F=f.fullTagEmptyElement),F)i.push(">");else return i.push("/>"),i.join("")}return i.push(m(r,f,g+1,!1)),E=r,a=n,n&&i.push((_?C(f,g,!1):"")+"</"+b+">"),i.join("")}function m(r,n,f,g){var _,b,i,F=[];for(b in r)if(r.hasOwnProperty(b))for(i=l(r[b])?r[b]:[r[b]],_=0;_<i.length;++_){switch(b){case n.declarationKey:F.push(S(i[_],n,f));break;case n.instructionKey:F.push((n.indentInstruction?C(n,f,g):"")+D(i[_],n,f));break;case n.attributesKey:case n.parentKey:break;case n.textKey:F.push((n.indentText?C(n,f,g):"")+U(i[_],n));break;case n.cdataKey:F.push((n.indentCdata?C(n,f,g):"")+K(i[_],n));break;case n.doctypeKey:F.push(C(n,f,g)+H(i[_],n));break;case n.commentKey:F.push(C(n,f,g)+B(i[_],n));break;default:F.push(C(n,f,g)+u(i[_],b,n,f,c(i[_],n)))}g=g&&!F.length}return F.join("")}return be=function(r,n){n=d(n);var f=[];return E=r,a="_root_",n.compact?f.push(m(r,n,0,!0)):(r[n.declarationKey]&&f.push(S(r[n.declarationKey],n,0)),r[n.elementsKey]&&r[n.elementsKey].length&&f.push(y(r[n.elementsKey],n,0,!f.length))),f.join("")},be}var Ne,Le;function ot(){if(Le)return Ne;Le=1;var T=ke();return Ne=function(l,E){l instanceof Buffer&&(l=l.toString());var a=null;if(typeof l=="string")try{a=JSON.parse(l)}catch{throw new Error("The JSON structure is invalid")}else a=l;return T(a,E)},Ne}var Ae,Me;function ct(){if(Me)return Ae;Me=1;var T=Ue(),l=lt(),E=ke(),a=ot();return Ae={xml2js:T,xml2json:l,js2xml:E,json2xml:a},Ae}var ft=ct();const je=$e("tmsXml",()=>{const T=he({}),l=he({});async function E(a){const d=a[0];if(!d||!mt(d))return;T.value={},l.value={};const C=await d.text(),R=ft.xml2js(C,{compact:!0});T.value=R==null?void 0:R.CompositionPlaylist,l.value={name:d.name,type:d.type,lastModified:d.lastModified,size:d.size}}return{obj:T,metadata:l,addFiles:E}});function mt(T){return T.type==="text/xml"||T.name.endsWith(".xml")}const dt={id:"upload"},Et={class:"flex block"},Tt={key:0,style:{"flex-grow":"1"}},gt={key:1,style:{"flex-grow":"1"}},yt={class:"buttons"},_t=Qe({__name:"TmsXmlUploadSection",setup(T){const l=je();return(E,a)=>{const d=Ge;return P(),V("section",dt,[a[3]||(a[3]=A("h2",null,"Gegevensbestand",-1)),A("div",Et,["name"in q(l).metadata?(P(),V("p",Tt,[w(I(q(l).metadata.name)+" ",1),a[0]||(a[0]=A("br",null,null,-1)),A("small",null," Laatst gewijzigd op "+I(q(Je)(new Date(q(l).metadata.lastModified),"PPPpp",{locale:q(at)})),1)])):(P(),V("p",gt,a[1]||(a[1]=[w(" Geen bestand geüpload "),A("br",null,null,-1),A("small",null,"Upload hiernaast een XML-bestand uit RosettaBridge",-1)]))),A("div",yt,[W(d,{id:"file-upload-area",class:"large",onFilesUploaded:q(l).addFiles,accept:"text/xml,.xml"},{default:z(()=>a[2]||(a[2]=[A("small",null,"Of sleep een bestand hiernaartoe",-1)])),_:1},8,["onFilesUploaded"])])])])}}}),bt=Be(_t,[["__scopeId","data-v-62f4b9c8"]]),Nt={class:"container dark"},At={class:"flex",style:{"flex-wrap":"wrap"}},Ft={style:{flex:"50% 1 1"}},vt={key:0,class:"film"},pt={class:"room"},xt={class:"title"},ht={key:0,class:"time"},Dt={key:1,class:"time"},Ct={class:"flex chips"},It={class:"extra"},St={class:"flex proportional-reels"},Ot=["title"],wt={class:"reels"},Rt=["title"],Kt={key:0,class:"bold colour"},Pt={class:"extra-extra"},Lt={key:0},Mt={key:1},Bt={key:2},Ut={key:1},kt={__name:"IntermissionFinderView",setup(T){const l=je(),E=qe("intermission-percentage-dev",5),a=Z(()=>{var y,c,u,m,r,n;return U((n=((u=(c=(y=l.obj)==null?void 0:y.ReelList)==null?void 0:c.Reel)==null?void 0:u[0])||((r=(m=l.obj)==null?void 0:m.ReelList)==null?void 0:r.Reel))==null?void 0:n.AssetList,([f])=>f.includes("CompositionMetadataAsset"))}),d=Z(()=>{var y,c,u;return((y=U(a.value,([m])=>m.includes("TitleText")))==null?void 0:y._text)||((u=(c=l.obj)==null?void 0:c.AnnotationText)==null?void 0:u._text.split("_")[0])}),C=Z(()=>{var y,c,u,m,r,n;return!!U((n=((u=(c=(y=l.obj)==null?void 0:y.ReelList)==null?void 0:c.Reel)==null?void 0:u[0])||((r=(m=l.obj)==null?void 0:m.ReelList)==null?void 0:r.Reel))==null?void 0:n.AssetList,([f])=>f.includes("StereoscopicPicture"))}),R=Z(()=>{var y;return(y=U(U(U(a.value,([c])=>c.includes("SubDescriptors")),([c])=>c.includes("SubDescriptor")),([c])=>c.includes("SpokenLanguage")))==null?void 0:y._text}),S=Z(()=>{var y;return(y=U(a.value,([c])=>c.includes("MainSubtitleLanguageList")))==null?void 0:y._text}),D=Z(()=>{var u,m,r,n,f,g,_,b,i,F,ee;const y=(m=(u=l.obj)==null?void 0:u.ReelList)==null?void 0:m.Reel;let c=[];if((y==null?void 0:y.length)>0)c.push(...y==null?void 0:y.map((N,G)=>{var x,le,te,ne,Q,ie,oe,re,se;const O={},v=N==null?void 0:N.AssetList,p=U(v,([ce])=>ce.includes("Main")&&ce.endsWith("Picture"));return O.title=((x=p==null?void 0:p.AnnotationText)==null?void 0:x._text)||`Reel ${G}`,O.frameRate=Number((te=(le=p==null?void 0:p.EditRate)==null?void 0:le._text)==null?void 0:te.split(" ")[0])||Number((Q=(ne=p==null?void 0:p.FrameRate)==null?void 0:ne._text)==null?void 0:Q.split(" ")[0]),O.frames=Number((ie=(p==null?void 0:p.Duration)||(p==null?void 0:p.IntrinsicDuration))==null?void 0:ie._text),O.intrinsicFrames=Number((oe=p==null?void 0:p.IntrinsicDuration)==null?void 0:oe._text),O.duration=O.frames/O.frameRate*1e3,O.intrinsicDuration=O.intrinsicFrames/O.frameRate*1e3,O.entryPoint=Number((re=p==null?void 0:p.EntryPoint)==null?void 0:re._text),O.id=(se=p==null?void 0:p.Id)==null?void 0:se._text,O}));else{const N={},G=y,O=G==null?void 0:G.AssetList,v=U(O,([p])=>p.includes("Main")&&p.endsWith("Picture"));N.title=((r=G==null?void 0:G.AnnotationText)==null?void 0:r._text)||"Reel 0",N.frameRate=Number((f=(n=v==null?void 0:v.EditRate)==null?void 0:n._text)==null?void 0:f.split(" ")[0])||Number((_=(g=v==null?void 0:v.FrameRate)==null?void 0:g._text)==null?void 0:_.split(" ")[0]),N.frames=Number((b=(v==null?void 0:v.Duration)||(v==null?void 0:v.IntrinsicDuration))==null?void 0:b._text),N.intrinsicFrames=Number((i=v==null?void 0:v.IntrinsicDuration)==null?void 0:i._text),N.duration=N.frames/N.frameRate*1e3,N.intrinsicDuration=N.intrinsicFrames/N.frameRate*1e3,N.entryPoint=Number((F=v==null?void 0:v.EntryPoint)==null?void 0:F._text),N.id=(ee=v==null?void 0:v.Id)==null?void 0:ee._text,c.push(N)}return c.forEach((N,G)=>{N.properDuration=N.duration/c.reduce((O,v)=>O+v.duration,0),N.properStart=c.slice(0,G).reduce((O,v)=>O+v.properDuration,0)}),c}),B=Z(()=>[...D.value].sort((y,c)=>Math.abs(y.properStart-.5)-Math.abs(c.properStart-.5))[0].properStart),K=Z(()=>D.value.findIndex(y=>y.properStart===B.value)),H=Z(()=>D.value.reduce((y,c)=>y+c.duration,0));function U(y,c){var u,m;if(typeof y=="object")return(m=(u=Object.entries(y))==null?void 0:u.find(c))==null?void 0:m[1]}function k(y=0,c=24){c=Number(c);let u=y*c/1e3;const m=Math.floor(u/c/60/60),r=Math.floor(u/c/60)%60,n=Math.floor(u/c)%60,f=Math.floor(u%c);return`${String(m).padStart(2,"0")}:${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(f).padStart(2,"0")}`}function $(y,c){return`
${c+1}e reel

Titel: ${y.title||"Geen"}
ID: ${y.id}

Framerate: ${y.frameRate} fps
Duur: ${k(y.duration,y.frameRate)} (${y.frames} frames)

Intrinsieke duur: ${k(y.intrinsicDuration,y.frameRate)} (${y.intrinsicFrames} frames)
Startpunt: ${k(y.entryPoint,y.frameRate)} (${y.entryPoint} frames)`}return(y,c)=>{var b;const u=Ze,m=bt,r=et,n=We,f=He,g=Ye,_=Xe;return P(),V(de,null,[W(u),A("main",Nt,[W(m),A("section",null,[A("div",At,[A("div",Ft,[c[21]||(c[21]=A("h2",null,"Filminformatie",-1)),(b=q(l).metadata)!=null&&b.name?(P(),V("div",vt,[A("div",pt,[W(r,{fill:"",style:{"--size":"24px",opacity:"0.5"}},{default:z(()=>c[2]||(c[2]=[w("theaters")])),_:1})]),A("h3",xt,I(d.value),1),D.value.some(i=>i.frameRate!==D.value[0].frameRate)?(P(),V("div",Dt,"Framerate verschilt per reel")):(P(),V("div",ht,[w(I(k(H.value,D.value[0].frameRate))+" ",1),A("span",{class:De({bold:D.value[0].frameRate!==24,colour:D.value[0].frameRate!==24})}," ("+I(D.value[0].frameRate)+" fps) ",3)])),A("div",Ct,[C.value?(P(),me(n,{key:0},{default:z(()=>[W(r,{fill:""},{default:z(()=>c[3]||(c[3]=[w("eyeglasses")])),_:1}),c[4]||(c[4]=w("3D "))]),_:1})):ue("",!0),R.value?(P(),me(n,{key:1,class:"translucent-white"},{default:z(()=>[W(r,{fill:""},{default:z(()=>c[5]||(c[5]=[w("volume_up")])),_:1}),w(" "+I(R.value),1)]),_:1})):ue("",!0),S.value?(P(),me(n,{key:2,class:"translucent-white"},{default:z(()=>[W(r,{fill:""},{default:z(()=>c[6]||(c[6]=[w("subtitles")])),_:1}),w(" "+I(S.value),1)]),_:1})):ue("",!0)]),A("div",It,[c[20]||(c[20]=A("h4",null,"Reels",-1)),A("div",St,[(P(!0),V(de,null,Ce(D.value,(i,F)=>(P(),V("div",{class:De(["reel",{"after-intermission":B.value===i.properStart&&Math.abs(B.value-.5)<q(E)/100}]),style:tt({"--propFrac":i.properDuration}),title:$(i,F)},null,14,Ot))),256))]),A("table",wt,[c[7]||(c[7]=A("thead",null,[A("tr",null,[A("td",null,"Reel"),A("td",null,"Duur (hh:mm:ss:ff)"),A("td",null,"Starttijd (hh:mm:ss:ff)")])],-1)),(P(!0),V(de,null,Ce(D.value,(i,F)=>(P(),V("tr",{title:$(i,F)},[A("td",null,I(F+1),1),A("td",null,[w(I(k(i.duration,i.frameRate))+" ",1),i.frameRate!==D.value[0].frameRate?(P(),V("span",Kt," ("+I(i.frameRate)+" fps) ",1)):ue("",!0)]),A("td",null,I(k(i.properStart*H.value,i.frameRate))+" ("+I((i.properStart*100).toLocaleString("nl-NL",{minimumFractionDigits:2,maximumFractionDigits:2}))+"%) ",1)],8,Rt))),256))]),A("div",Pt,[c[19]||(c[19]=A("h4",null,"Pauzesuggestie",-1)),Math.abs(B.value-.5)<q(E)/100?(P(),V("p",Lt,[w(" Een pauze zou kunnen worden ingepland tussen de "+I(K.value),1),c[8]||(c[8]=A("sup",null,"e",-1)),w(" en de "+I(K.value+1),1),c[9]||(c[9]=A("sup",null,"e",-1)),w(" reel (na "+I(k(B.value*H.value,D.value[0].frameRate))+" of "+I((B.value*100).toLocaleString("nl-NL",{minimumFractionDigits:2,maximumFractionDigits:2}))+"%). ",1)])):D.value.length>1?(P(),V("p",Mt,[w(" Er is geen reel die tussen "+I(50-q(E))+"% en "+I(50+q(E))+"% van de film eindigt. ",1),Math.abs(B.value-.5)-q(E)/100<.05?(P(),V("a",{key:0,class:"link",onClick:c[0]||(c[0]=i=>E.value=Math.ceil(Math.abs(B.value-.5)*100))}," Maximale afwijking bijstellen tot "+I(Math.ceil(Math.abs(B.value-.5)*100))+"%?",1)):ue("",!0),c[10]||(c[10]=A("br",null,null,-1)),w(" Een pauze zou kunnen worden ingepland tijdens de "+I(K.value+1),1),c[11]||(c[11]=A("sup",null,"e",-1)),c[12]||(c[12]=w(" reel (bijvoorbeeld na ")),A("b",null,I(k(.5*H.value,D.value[0].frameRate)),1),c[13]||(c[13]=w(" of 50%). ")),c[14]||(c[14]=A("br",null,null,-1))])):(P(),V("p",Bt,[c[15]||(c[15]=w(" Er is maar één reel. ")),c[16]||(c[16]=A("br",null,null,-1)),c[17]||(c[17]=w(" Een pauze zou halverwege kunnen worden ingepland (bijvoorbeeld na ")),A("b",null,I(k(.5*H.value,D.value[0].frameRate)),1),c[18]||(c[18]=w(" of 50%). "))]))])])])):(P(),V("p",Ut,"Geen bestand geüpload"))]),W(ze,{style:{flex:"229px 1 1"}},{default:z(()=>[W(_,null,{default:z(()=>[W(g,{value:"Configuratie"},{default:z(()=>[A("fieldset",null,[c[23]||(c[23]=A("legend",null,"Pauzesuggestie",-1)),W(f,{modelValue:q(E),"onUpdate:modelValue":c[1]||(c[1]=i=>nt(E)?E.value=i:null),modelModifiers:{number:!0},identifier:"intermissionPercentageDev",unit:"%"},{default:z(()=>[c[22]||(c[22]=w(" Maximale afwijking van middenpunt ")),A("small",null,"De filmpauze kan worden geplaatst tussen "+I(50-q(E))+"% en "+I(50+q(E))+"% van de film. ",1)]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1})])])])],64)}}},Yt=Be(kt,[["__scopeId","data-v-5c30827d"]]);export{Yt as default};
