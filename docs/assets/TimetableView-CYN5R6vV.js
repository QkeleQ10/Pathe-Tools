import{u as F,o as Ce,n as re,r as M,a as Ve,w as Ie,g as Ue,b as Oe,c as $e,s as Fe,d as me,e as S,f as E,h as le,i as We,_ as ue,m as Ne,j as Me,k as d,l as de,v as Be,t as j,p as X,q as Y,x as He,y as Ge,z as Z,A as ve,F as ae,B as ge,C as H,D as W,T as ze,E as Xe,G as B,H as Ye,I as Je,J as qe,K as Ze}from"./index-Cpl-VC6d.js";function Ke(e){return Ue()?(Oe(e),!0):!1}function pe(e){return typeof e=="function"?e():F(e)}const Pe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Qe=Object.prototype.toString,et=e=>Qe.call(e)==="[object Object]",ie=()=>{},tt=nt();function nt(){var e,t;return Pe&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ot(e,t){function n(...o){return new Promise((l,m)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(l).catch(m)})}return n}const je=e=>e();function st(e=je){const t=M(!0);function n(){t.value=!1}function o(){t.value=!0}const l=(...m)=>{t.value&&e(...m)};return{isActive:Ve(t),pause:n,resume:o,eventFilter:l}}function it(e){return $e()}function rt(e,t,n={}){const{eventFilter:o=je,...l}=n;return Ie(e,ot(o,t),l)}function Re(e,t,n={}){const{eventFilter:o,...l}=n,{eventFilter:m,pause:h,resume:c,isActive:_}=st(o);return{stop:rt(e,t,{...l,eventFilter:m}),pause:h,resume:c,isActive:_}}function lt(e,t=!0,n){it()?Ce(e,n):t?e():re(e)}function K(e){var t;const n=pe(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ee=Pe?window:void 0;function J(...e){let t,n,o,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,l]=e,t=ee):[t,n,o,l]=e,!t)return ie;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const m=[],h=()=>{m.forEach(s=>s()),m.length=0},c=(s,u,p,v)=>(s.addEventListener(u,p,v),()=>s.removeEventListener(u,p,v)),_=Ie(()=>[K(t),pe(l)],([s,u])=>{if(h(),!s)return;const p=et(u)?{...u}:u;m.push(...n.flatMap(v=>o.map(w=>c(s,v,w,p))))},{immediate:!0,flush:"post"}),y=()=>{_(),h()};return Ke(y),y}let ye=!1;function at(e,t,n={}){const{window:o=ee,ignore:l=[],capture:m=!0,detectIframe:h=!1}=n;if(!o)return ie;tt&&!ye&&(ye=!0,Array.from(o.document.body.children).forEach(p=>p.addEventListener("click",ie)),o.document.documentElement.addEventListener("click",ie));let c=!0;const _=p=>l.some(v=>{if(typeof v=="string")return Array.from(o.document.querySelectorAll(v)).some(w=>w===p.target||p.composedPath().includes(w));{const w=K(v);return w&&(p.target===w||p.composedPath().includes(w))}}),s=[J(o,"click",p=>{const v=K(e);if(!(!v||v===p.target||p.composedPath().includes(v))){if(p.detail===0&&(c=!_(p)),!c){c=!0;return}t(p)}},{passive:!0,capture:m}),J(o,"pointerdown",p=>{const v=K(e);c=!_(p)&&!!(v&&!p.composedPath().includes(v))},{passive:!0}),h&&J(o,"blur",p=>{setTimeout(()=>{var v;const w=K(e);((v=o.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(w!=null&&w.contains(o.document.activeElement))&&t(p)},0)})].filter(Boolean);return()=>s.forEach(p=>p())}const oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se="__vueuse_ssr_handlers__",ct=ut();function ut(){return se in oe||(oe[se]=oe[se]||{}),oe[se]}function dt(e,t){return ct[e]||t}function pt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ft={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},be="vueuse-storage";function ht(e,t,n,o={}){var l;const{flush:m="pre",deep:h=!0,listenToStorageChanges:c=!0,writeDefaults:_=!0,mergeDefaults:y=!1,shallow:s,window:u=ee,eventFilter:p,onError:v=a=>{console.error(a)},initOnMounted:w}=o,x=(s?Fe:M)(typeof t=="function"?t():t);if(!n)try{n=dt("getDefaultStorage",()=>{var a;return(a=ee)==null?void 0:a.localStorage})()}catch(a){v(a)}if(!n)return x;const I=pe(t),f=pt(I),g=(l=o.serializer)!=null?l:ft[f],{pause:A,resume:R}=Re(x,()=>U(x.value),{flush:m,deep:h,eventFilter:p});u&&c&&lt(()=>{J(u,"storage",V),J(u,be,L),w&&V()}),w||V();function O(a,i){u&&u.dispatchEvent(new CustomEvent(be,{detail:{key:e,oldValue:a,newValue:i,storageArea:n}}))}function U(a){try{const i=n.getItem(e);if(a==null)O(i,null),n.removeItem(e);else{const b=g.write(a);i!==b&&(n.setItem(e,b),O(i,b))}}catch(i){v(i)}}function $(a){const i=a?a.newValue:n.getItem(e);if(i==null)return _&&I!=null&&n.setItem(e,g.write(I)),I;if(!a&&y){const b=g.read(i);return typeof y=="function"?y(b,I):f==="object"&&!Array.isArray(b)?{...I,...b}:b}else return typeof i!="string"?i:g.read(i)}function V(a){if(!(a&&a.storageArea!==n)){if(a&&a.key==null){x.value=I;return}if(!(a&&a.key!==e)){A();try{(a==null?void 0:a.newValue)!==g.write(x.value)&&(x.value=$(a))}catch(i){v(i)}finally{a?re(R):R()}}}}function L(a){V(a.detail)}return x}function mt(e="history",t={}){const{initialValue:n={},removeNullishValues:o=!0,removeFalsyValues:l=!1,write:m=!0,window:h=ee}=t;if(!h)return me(n);const c=me({});function _(){if(e==="history")return h.location.search||"";if(e==="hash"){const f=h.location.hash||"",g=f.indexOf("?");return g>0?f.slice(g):""}else return(h.location.hash||"").replace(/^#/,"")}function y(f){const g=f.toString();if(e==="history")return`${g?`?${g}`:""}${h.location.hash||""}`;if(e==="hash-params")return`${h.location.search||""}${g?`#${g}`:""}`;const A=h.location.hash||"#",R=A.indexOf("?");return R>0?`${A.slice(0,R)}${g?`?${g}`:""}`:`${A}${g?`?${g}`:""}`}function s(){return new URLSearchParams(_())}function u(f){const g=new Set(Object.keys(c));for(const A of f.keys()){const R=f.getAll(A);c[A]=R.length>1?R:f.get(A)||"",g.delete(A)}Array.from(g).forEach(A=>delete c[A])}const{pause:p,resume:v}=Re(c,()=>{const f=new URLSearchParams("");Object.keys(c).forEach(g=>{const A=c[g];Array.isArray(A)?A.forEach(R=>f.append(g,R)):o&&A==null||l&&!A?f.delete(g):f.set(g,A)}),w(f)},{deep:!0});function w(f,g){p(),g&&u(f),h.history.replaceState(h.history.state,h.document.title,h.location.pathname+y(f)),v()}function x(){m&&w(s(),!0)}J(h,"popstate",x,!1),e!=="history"&&J(h,"hashchange",x,!1);const I=s();return I.keys().next().value?u(I):Object.assign(c,n),c}const vt={__name:"ContextMenu",props:["x","y"],emits:["click-outside"],setup(e,{emit:t}){const n=t,o=M(null);return at(o,l=>n("click-outside",l)),(l,m)=>(S(),E("div",{class:"context-menu",ref_key:"target",ref:o,style:We({top:e.y+"px",left:e.x+"px"})},[le(l.$slots,"default")],4))}},gt=["for"],yt={class:"title"},bt=["id"],wt={key:0,class:"unit"},_t={__name:"InputNumber",props:Ne(["unit","identifier"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Me(e,"modelValue");return(n,o)=>(S(),E("label",{class:"input-slider",for:e.identifier},[d("div",yt,[le(n.$slots,"default",{},void 0,!0)]),d("div",{class:Y(["input",{"has-unit":!!e.unit}])},[de(d("input",{type:"number",inputmode:"numeric",pattern:"[0-9]+",name:"",id:e.identifier,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l)},null,8,bt),[[Be,t.value,void 0,{number:!0}]]),e.unit?(S(),E("span",wt,j(e.unit),1)):X("",!0)],2)],8,gt))}},St=ue(_t,[["__scopeId","data-v-c05abef1"]]),Et=["for"],Tt={class:"title"},kt=["id"],xt={__name:"InputCheckbox",props:Ne(["identifier"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Me(e,"modelValue");return(n,o)=>(S(),E("label",{class:"input-slider",for:e.identifier},[d("div",Tt,[le(n.$slots,"default",{},void 0,!0)]),de(d("input",{type:"checkbox",name:"",id:e.identifier,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l)},null,8,kt),[[He,t.value]])],8,Et))}},At=ue(xt,[["__scopeId","data-v-10167d1f"]]),Dt=["data-active"],Ct={__name:"DropZone",emits:["files-dropped"],setup(e,{emit:t}){const n=t;let o=M(!1),l=null;function m(){o.value=!0,clearTimeout(l)}function h(){l=setTimeout(()=>{o.value=!1},50)}function c(s){h(),n("files-dropped",[...s.dataTransfer.files])}function _(s){s.preventDefault()}const y=["dragenter","dragover","dragleave","drop"];return Ce(()=>{y.forEach(s=>{document.body.addEventListener(s,_)})}),Ge(()=>{y.forEach(s=>{document.body.removeEventListener(s,_)})}),(s,u)=>(S(),E("div",{"data-active":F(o),onDragenter:Z(m,["prevent"]),onDragover:Z(m,["prevent"]),onDragleave:Z(h,["prevent"]),onDrop:Z(c,["prevent"])},[le(s.$slots,"default",{dropZoneActive:F(o)})],40,Dt))}};var It=Object.defineProperty,we=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,_e=(e,t,n)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Se=(e,t)=>{for(var n in t||(t={}))Nt.call(t,n)&&_e(e,n,t[n]);if(we)for(var n of we(t))Mt.call(t,n)&&_e(e,n,t[n]);return e},te=(e,t,n)=>new Promise((o,l)=>{var m=_=>{try{c(n.next(_))}catch(y){l(y)}},h=_=>{try{c(n.throw(_))}catch(y){l(y)}},c=_=>_.done?o(_.value):Promise.resolve(_.value).then(m,h);c((n=n.apply(e,t)).next())});function ce(e){return!!e.shadowRoot}let Ee=!1;function Pt(){if(Ee)return;class e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}}customElements.define("vue-to-print-shadow-dom",e),Ee=!0}const jt=`
  class VueToPrintShadowDom extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({ mode: 'open' });
    }
  }
  customElements.define('vue-to-print-shadow-dom', VueToPrintShadowDom);
`;function Rt(e){const t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("vue-to-print-custom-script","registry-shadow-dom"),t.innerHTML=jt,e.body.appendChild(t)}const Lt=`
  function retrieveStyleSheets(styleSheetMap) {
    styleSheetMap.forEach((styleSheetStrings, tagName) => {
      const styleSheets = [];
      for (let i = styleSheetStrings.length; i--;) {
        const styleSheet = new CSSStyleSheet();
        styleSheet.replaceSync(styleSheetStrings[i]);
        styleSheets.push(styleSheet);
      }

      const elements = document.querySelectorAll('vue-to-print-shadow-dom[original-tag-name=' + tagName + ']');
      for (let i = elements.length; i--;) {
        const element = elements[i];
        element.shadowRoot.adoptedStyleSheets = styleSheets;
      }
    });
  }
`;function Vt(e){const t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("vue-to-print-custom-script","registry-retrieve-style-sheets-func"),t.innerHTML=Lt,e.body.appendChild(t)}const Q=new Map;function Te(e){Pt();const t=e.nodeName.toLowerCase(),n=e.shadowRoot.adoptedStyleSheets,o=document.createElement("vue-to-print-shadow-dom");o.setAttribute("original-tag-name",t),Q.has(t)||Q.set(t,new Set);const l=Q.get(t);for(let c=n.length;c--;)l.add(n[c]);const m=o.attributes,h=e.attributes;for(let c=h.length;c--;)m.setNamedItem(h[c].cloneNode());return o}function Ut(){const e=new Map,t=new Map,n=Array.from(Q.keys());for(let o=n.length;o--;){const l=[],m=n[o],h=Array.from(Q.get(m));for(let c=h.length;c--;){const _=h[c];if(!t.has(_)){let y="";const s=Array.from(_.cssRules);for(let u=s.length;u--;)y+=s[u].cssText;t.set(_,y)}l.push(t.get(_))}e.set(m,l)}return e}function Ot(e){const t=e.contentWindow||null;if(!t)throw new Error("Cannot access print window");const n=t.document;if(!n)throw new Error("Cannot access print document");Rt(n),Vt(n);const o=Ut();t.retrieveStyleSheets(o)}function ke(e){return!!customElements.get(e.nodeName.toLowerCase())}let xe=!1;function $t(){if(xe)return;class e extends HTMLElement{constructor(){super()}}customElements.define("vue-to-print-custom-element",e),xe=!0}function Ae(e){$t();const t=e.nodeName.toLowerCase(),n=document.createElement("vue-to-print-custom-element");n.setAttribute("original-tag-name",t);const o=n.attributes,l=e.attributes;for(let m=l.length;m--;)o.setNamedItem(l[m].cloneNode());return n}function Le(e){return te(this,null,function*(){e.getAttribute("src")&&(e.complete||(yield new Promise((t,n)=>{e.addEventListener("load",t,{once:!0}),e.addEventListener("error",o=>n(o.error),{once:!0})})))})}function Ft(e){return te(this,null,function*(){e.readyState>=2||(yield new Promise((t,n)=>{e.addEventListener("loadeddata",t,{once:!0}),e.addEventListener("error",o=>n(o.error),{once:!0}),e.addEventListener("stalled",()=>n(new Error("Loading video stalled, skipping")),{once:!0})}))})}function Wt(e){const t=e.cloneNode(),n=t.getContext("2d");return n&&n.drawImage(e,0,0),t}function Bt(e,t){const n=e.cloneNode();return t.push(Le(n)),n}function Ht(e,t){const n=e.cloneNode();n.preload="auto";const o=n.getAttribute("poster");if(o){const l=new Image;l.src=o,t.push(Le(l))}else t.push(Ft(n));return n}function Gt(e){const t=e.cloneNode();switch(e.type){case"checkbox":case"radio":t.checked=e.checked;break;default:t.value=e.value;break}return t}function zt(e){const t=e.cloneNode();return t.value=e.value,t}function Xt(e){const t=e.cloneNode();return t.selected=e.selected,t}const De=new Map([["canvas",Wt],["img",Bt],["video",Ht],["input",Gt],["select",zt],["option",Xt]]);function Yt(e){return e.cloneNode()}function Jt(e,t=[]){const n=e.nodeName.toLowerCase();return(De.has(n)?De.get(n):Yt)(e,t)}function qt(e){var t;if(e.nodeName.toLowerCase()==="slot"){const n=e.assignedNodes();return n.length>0?n:Array.from(e.childNodes)}else return Array.from(((t=e.shadowRoot)!=null?t:e).childNodes)}function Zt(e){return te(this,null,function*(){const t=new Map,n=[];let o;ce(e)?o=Te(e):ke(e)?o=Ae(e):o=e.cloneNode(),t.set(e,o);const l=[e];for(;l.length;){const m=l.shift(),h=qt(m);if(h.length<=0)continue;const c=t.get(m),_=ce(c)?c.shadowRoot:c;for(let y=0;y<h.length;y++){const s=h[y];let u;ce(s)?u=Te(s):ke(s)?u=Ae(s):u=Jt(s,n),t.set(s,u),l.push(s),_.appendChild(u)}}return yield Promise.all(n),o})}const Kt={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1};function Qt(e){e=Se(Se({},Kt),e);let t=0,n=[],o=[];const l=s=>{const{onAfterPrint:u,onPrintError:p,print:v,documentTitle:w}=e;setTimeout(()=>{var x,I;if(s.contentWindow)if(s.contentWindow.focus(),v)v(s).then(()=>u==null?void 0:u()).then(()=>_()).catch(f=>{p?p("print",f):y(["An error was thrown by the specified `print` function"])});else{if(s.contentWindow.print){const f=(I=(x=s.contentDocument)==null?void 0:x.title)!=null?I:"",g=s.ownerDocument.title;w&&(s.ownerDocument.title=w,s.contentDocument&&(s.contentDocument.title=w)),s.contentWindow.print(),w&&(s.ownerDocument.title=g,s.contentDocument&&(s.contentDocument.title=f))}else y(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);u==null||u(),_()}else y(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `vue-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},m=s=>{const{onBeforePrint:u,onPrintError:p}=e;if(u){const v=u();v&&typeof v.then=="function"?v.then(()=>{l(s)}).catch(w=>{p&&p("onBeforePrint",w)}):l(s)}else l(s)},h=()=>{const{onBeforeGetContent:s,onPrintError:u}=e;if(s){const p=s();p&&typeof p.then=="function"?p.then(c).catch(v=>{u&&u("onBeforeGetContent",v)}):c()}else c()},c=()=>te(this,null,function*(){const{bodyClass:s,content:u,copyStyles:p,fonts:v,pageStyle:w,nonce:x}=e,I=u();if(I===void 0){y(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"]);return}if(I===null){y(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "vue-to-print" to be called.']);return}const f=document.createElement("iframe");f.width=`${document.documentElement.clientWidth}px`,f.height=`${document.documentElement.clientHeight}px`,f.style.position="absolute",f.style.top=`-${document.documentElement.clientHeight+100}px`,f.style.left=`-${document.documentElement.clientWidth+100}px`,f.id="printWindow",f.srcdoc="<!DOCTYPE html>";const g=I;if(!g){y(['"vue-to-print" could not locate the DOM node corresponding with the `content` prop']);return}const A=yield Zt(g),R=document.querySelectorAll("link[rel~='stylesheet']"),O=v?v.length:0;t=R.length+O,n=[],o=[];const U=($,V)=>{if(n.includes($)){y(["Tried to mark a resource that has already been handled",$],"debug");return}V?(y(['"vue-to-print" was unable to load a resource but will continue attempting to print the page',...V]),o.push($)):n.push($),n.length+o.length===t&&m(f)};f.onload=()=>te(this,null,function*(){var $,V;f.onload=null;const L=f.contentDocument||(($=f.contentWindow)==null?void 0:$.document);if(L){L.body.appendChild(A),v&&((V=f.contentDocument)!=null&&V.fonts&&typeof FontFace<"u"?v.forEach(i=>{const b=new FontFace(i.family,i.source,{weight:i.weight,style:i.style});f.contentDocument.fonts.add(b),b.loaded.then(()=>{U(b)}).catch(N=>{U(b,["Failed loading the font:",b,"Load error:",N])})}):(v.forEach(i=>U(i)),y(['"vue-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));const a=typeof w=="function"?w():w;if(typeof a!="string")y([`"vue-to-print" expected a "string" from \`pageStyle\` but received "${typeof a}". Styles from \`pageStyle\` will not be applied.`]);else{const i=L.createElement("style");x&&(i.setAttribute("nonce",x),L.head.setAttribute("nonce",x)),i.appendChild(L.createTextNode(a)),L.head.appendChild(i)}if(s&&L.body.classList.add(...s.split(" ")),p){const i=document.querySelectorAll("style, link[rel~='stylesheet']");for(let b=0,N=i.length;b<N;++b){const T=i[b];if(T.tagName.toLowerCase()==="style"){const k=L.createElement(T.tagName),C=T.sheet;if(C){let r="";try{const D=C.cssRules.length;for(let P=0;P<D;++P)typeof C.cssRules[P].cssText=="string"&&(r+=`${C.cssRules[P].cssText}\r
`)}catch{y(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",T],"warning")}k.setAttribute("id",`vue-to-print-${b}`),x&&k.setAttribute("nonce",x),k.appendChild(L.createTextNode(r)),L.head.appendChild(k)}}else if(T.getAttribute("href"))if(T.hasAttribute("disabled"))y(["`vue-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",T],"warning"),U(T);else{const k=L.createElement(T.tagName);for(let C=0,r=T.attributes.length;C<r;++C){const D=T.attributes[C];D&&k.setAttribute(D.nodeName,D.nodeValue||"")}k.onload=()=>U(k),k.onerror=(C,r,D,P,z)=>U(k,["Failed to load",k,"Error:",z]),x&&k.setAttribute("nonce",x),L.head.appendChild(k)}else y(["`vue-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",T],"warning"),U(T)}}}Ot(f),(t===0||!p)&&m(f)}),_(!0),document.body.appendChild(f)}),_=s=>{const{removeAfterPrint:u}=e;if(s||u){const p=document.getElementById("printWindow");p&&document.body.removeChild(p)}},y=(s,u="error")=>{const{suppressErrors:p}=e;p||(u==="error"?console.error(s):u==="warning"?console.warn(s):u==="debug"&&console.debug(s))};return{handlePrint:h}}const G=e=>(Je("data-v-1ee59751"),e=e(),qe(),e),en={class:"container dark"},tn={key:0,id:"theatre"},nn=G(()=>d("h2",null,"Theater selecteren",-1)),on={class:"flex"},sn=["onClick"],rn=["src"],ln={style:{"z-index":"1"}},an={key:1,id:"upload"},cn=G(()=>d("h2",null,"Bestand uploaden",-1)),un={key:0},dn=G(()=>d("div",null,"Laat los om te uploaden",-1)),pn=G(()=>d("div",{class:"small"},"CSV-bestand",-1)),fn=[dn,pn],hn={key:1},mn=G(()=>d("div",null,"Sleep een bestand hierheen",-1)),vn=G(()=>d("div",{class:"small"},"CSV-bestand",-1)),gn=[mn,vn],yn=G(()=>d("h2",null,"Tijdenlijstje bewerken",-1)),bn={class:"flex",style:{"flex-wrap":"wrap"}},wn={spellcheck:"false"},_n=G(()=>d("colgroup",null,[d("col",{span:"1",style:{width:"0"}}),d("col",{span:"1",style:{width:"0"}}),d("col",{span:"1",style:{width:"16%"}}),d("col",{span:"1",style:{width:"28%"}}),d("col",{span:"1",style:{width:"50%"}}),d("col",{span:"1",style:{width:"0"}})],-1)),Sn=G(()=>d("thead",null,[d("td",{nowrap:"",contenteditable:"",width:"1px"},"Zaal"),d("td",{nowrap:"",contenteditable:""},"Inloop"),d("td",{nowrap:"",contenteditable:""}),d("td",{nowrap:"",contenteditable:""},"Aftiteling"),d("td",{nowrap:"",contenteditable:""},"Film"),d("td",{nowrap:"",contenteditable:""})],-1)),En=["onContextmenu"],Tn={nowrap:"",contenteditable:""},kn={nowrap:"",contenteditable:""},xn=["onDblclick"],An={key:1},Dn={nowrap:""},Cn={key:0,class:"double-usherout"},In={key:1,class:"long-gap"},Nn={key:2,class:"plf-overlap"},Mn={contenteditable:"",style:{position:"absolute",inset:"0",padding:"2px 6px",display:"flex","align-items":"center"}},Pn={key:0,style:{opacity:".35","font-weight":"100","font-style":"normal","margin-left":"4px"}},jn={key:2,nowrap:"",contenteditable:""},Rn={style:{float:"right"}},Ln={key:3,nowrap:"",contenteditable:""},Vn=G(()=>d("div",{class:"custom-content",contenteditable:""},null,-1)),Un={class:"footer"},On={id:"parameters",style:{display:"flex","flex-direction":"column",flex:"229px 1 1"}},$n={key:0,class:"small"},Fn={key:1,class:"small"},Wn={key:0,class:"small"},Bn={key:1,class:"small"},Hn={key:0,class:"small"},Gn={key:1,class:"small"},zn={key:0,class:"small"},Xn={key:1,class:"small"},Yn={key:0,class:"small"},Jn={key:1,class:"small"},qn={class:"buttons",style:{display:"flex","flex-direction":"column",gap:"16px","align-items":"stretch","margin-top":"auto",position:"sticky",bottom:"16px","padding-inline":"16px"}},Zn={__name:"TimetableView",setup(e){const t=M(!0),n=M(17),o=M(16),l=M(10),m=M(35),h=M(!0),c=ht("post-credits-films",new Set);for(;c.value.size>20;)console.log(c.value),c.value.delete(Array.from(c.value)[0]);const _=M(null),y=M(null),s=M(null),u=M(!1),p=M(0),v=M(0),w=M({}),x=M(0),I=(a,i,b)=>{a.preventDefault(),document.activeElement.blur(),u.value=!0,w.value=i,x.value=b,p.value=a.clientX,v.value=a.clientY},f=()=>{re(()=>u.value=!1)},g=mt("history"),A=[{id:"pulr",name:"Pathé Utrecht Leidsche Rijn",image:"https://media.pathe.nl/gfx_content//bioscoop/LeidscheRijn-pulr_foto_1600x590.png"}];g.theatre??(g.theatre=A[0].id);const R=ve(()=>A.find(a=>a.id===g.theatre)),O=M([]),U=ve(()=>{let a=O.value.map((i,b)=>{var D,P,z,q,fe;let N=(z=(P=(D=i.PLAYLIST)==null?void 0:D.match(/(\s((4DX)|(ATMOS)|(3D)|(Music)|(\([A-Z]+\))))+/))==null?void 0:P[0])==null?void 0:z.slice(1),T=(q=i.PLAYLIST)==null?void 0:q.replace(N,""),k=O.value.filter(ne=>{var he;return(he=ne.AUDITORIUM)==null?void 0:he.includes("4DX")}).some(ne=>V(ne.SCHEDULED_TIME,i.CREDITS_TIME)>=n.value*-6e4&&V(ne.SCHEDULED_TIME,i.CREDITS_TIME)<=o.value*6e4),C=c.value.has(T),r=V(C&&h.value?i.END_TIME:i.CREDITS_TIME,(fe=O.value.at(b+1))==null?void 0:fe.CREDITS_TIME);return{...i,title:T,extra:N,overlapWithPlf:k,timeToNextUsherout:r,hasPostCredits:C}});return a.filter(i=>{var b;return(b=i.AUDITORIUM)==null?void 0:b.includes("4DX")}).slice(1).forEach(i=>{let b;for(let N=0;N<a.length;N++){const T=a[N];if(V(i.SCHEDULED_TIME,T.CREDITS_TIME)>0){b=N-1;break}}a.at(b).isNearPlf=!0}),a||[]});async function $(a){var C;if(((C=a==null?void 0:a[0])==null?void 0:C.type)!=="text/csv")return;const b=(await a[0].text()).split(`
`);let N=[];const T=b[0].split(",");for(var k=0;k<b.length;k++){const r=b[k].split(",");let D={};for(let P=0;P<r.length;P++)D[T[P].trim()]=r[P].trim();N.push(D)}O.value=N,re(()=>{s.value.scrollIntoView({behavior:"smooth"})})}function V(a,i){function b(r){const[D,P,z]=r.split(":").map(Number),q=new Date;return new Date(q.getFullYear(),q.getMonth(),q.getDate(),D,P,z)}if(!a||!i)return;const N=b(a),T=b(i),k=T-N;T.setDate(T.getDate()+1);const C=T-N;return Math.abs(k)<Math.abs(C)?k:C}const{handlePrint:L}=Qt({content:()=>y.value,documentTitle:"Tijdenlijstje"});return(a,i)=>{const b=Xe,N=Ct,T=At,k=St,C=vt;return S(),E(ae,null,[d("div",en,[F(g).theatre&&A.length<2?X("",!0):(S(),E("section",tn,[nn,d("div",on,[(S(),E(ae,null,ge(A,r=>d("button",{class:Y(["theatre-button",{selected:r.id===F(g).theatre}]),onClick:D=>R.value.id=r.id},[d("img",{src:r.image},null,8,rn),d("span",ln,j(r.name),1)],10,sn)),64))])])),F(g).theatre?(S(),E("section",an,[cn,H(N,{id:"drop-zone",onFilesDropped:$,onClick:i[0]||(i[0]=r=>_.value.click()),style:{cursor:"pointer"}},{default:W(({dropZoneActive:r})=>[r?(S(),E("div",un,fn)):(S(),E("div",hn,gn)),H(b,{"data-active":r},{default:W(()=>[B("Bladeren...")]),_:2},1032,["data-active"])]),_:1}),d("input",{type:"file",ref_key:"fileInput",ref:_,accept:"text/csv",style:{display:"none"},onChange:i[1]||(i[1]=r=>$(r.target.files))},null,544)])):X("",!0),F(g).theatre&&O.value.length>0?(S(),E("section",{key:2,id:"edit",ref_key:"editSection",ref:s},[yn,d("div",bn,[d("div",{id:"print-component",ref_key:"printComponent",ref:y},[d("table",wn,[_n,Sn,(S(!0),E(ae,null,ge(U.value,(r,D)=>{var P;return de((S(),E("tr",{class:Y({targeting:u.value&&x.value===D,italic:(P=r.AUDITORIUM)==null?void 0:P.includes("4DX"),bold:r.FEATURE_RATING==="16"||r.FEATURE_RATING==="18"}),onContextmenu:Z(z=>I(z,r,D),["prevent"])},[d("td",Tn,j(R.value.id==="pulr"&&r.AUDITORIUM==="PULR 8"?"RT":r.AUDITORIUM.replace(/^\w+\s/,"")),1),d("td",kn,j(r.SCHEDULED_TIME.replace(/(:00)$/,"")),1),D!==U.value.length-1?(S(),E("td",{key:0,nowrap:"",contenteditable:"",class:Y(["special-cell",{"toilet-round":!!r.preferToiletRound}]),onDblclick:z=>O.value.at(D).preferToiletRound=!r.preferToiletRound},j(r.isNearPlf?"4DX":" "),43,xn)):(S(),E("td",An)),d("td",Dn,[r.timeToNextUsherout<=l.value*6e4?(S(),E("div",Cn)):X("",!0),r.timeToNextUsherout>=m.value*6e4&&m.value>0?(S(),E("div",In)):X("",!0),r.overlapWithPlf?(S(),E("div",Nn)):X("",!0),d("span",Mn,[B(j(r.CREDITS_TIME)+" ",1),r.hasPostCredits?(S(),E("span",Pn,"+")):X("",!0)])]),t.value?(S(),E("td",jn,[d("span",null,j(r.title),1),d("span",Rn,j(r.extra),1)])):(S(),E("td",Ln,j(r.PLAYLIST),1)),d("td",{nowrap:"",contenteditable:"",style:{"text-align":"end"},class:Y({translucent:r.FEATURE_RATING!=="16"&&r.FEATURE_RATING!=="18"})},j(r.FEATURE_RATING),3)],42,En)),[[Ze,D!=0]])}),256))]),Vn,d("div",Un," gegenereerd op "+j(new Date().toLocaleDateString("nl-NL",{weekday:"short",day:"numeric",month:"short",year:"numeric"}))+" om "+j(new Date().toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit"}))+" • "+j(R.value.name)+" • Quinten Althues ",1)],512),d("div",On,[H(T,{modelValue:t.value,"onUpdate:modelValue":i[2]||(i[2]=r=>t.value=r),identifier:"splitExtra"},{default:W(()=>[B(" Extra informatie scheiden van filmtitel ")]),_:1},8,["modelValue"]),H(k,{modelValue:n.value,"onUpdate:modelValue":i[3]||(i[3]=r=>n.value=r),modelModifiers:{number:!0},identifier:"plfTimeBefore",min:"0",max:"30",unit:"min"},{default:W(()=>[B(" Tijd vóór inloop 4DX "),n.value>0?(S(),E("div",$n,"Uitlopen vanaf "+j(n.value)+" minuten voor een 4DX-inloop krijgen een streeplijntje",1)):(S(),E("div",Fn,"Uitlopen vlak voor een 4DX-inloop worden niet gemarkeerd"))]),_:1},8,["modelValue"]),H(k,{modelValue:o.value,"onUpdate:modelValue":i[4]||(i[4]=r=>o.value=r),modelModifiers:{number:!0},identifier:"plfTimeAfter",min:"0",max:"30",unit:"min"},{default:W(()=>[B(" Tijd na inloop 4DX "),o.value>0?(S(),E("div",Wn,"Uitlopen tot "+j(o.value)+" minuten na een 4DX-inloop krijgen een streeplijntje",1)):(S(),E("div",Bn,"Uitlopen vlak na een 4DX-inloop worden niet gemarkeerd"))]),_:1},8,["modelValue"]),H(k,{modelValue:l.value,"onUpdate:modelValue":i[5]||(i[5]=r=>l.value=r),modelModifiers:{number:!0},identifier:"shortGapInterval",min:"0",max:"20",unit:"min"},{default:W(()=>[B("Interval voor dubbele uitloop "),l.value>0?(S(),E("div",Hn,"Uitlopen met minder dan "+j(l.value)+" minuten ertussen krijgen een boogje",1)):(S(),E("div",Gn,"Uitlopen met weinig tijd ertussen worden niet gemarkeerd"))]),_:1},8,["modelValue"]),H(k,{modelValue:m.value,"onUpdate:modelValue":i[6]||(i[6]=r=>m.value=r),modelModifiers:{number:!0},identifier:"longGapInterval",min:"20",max:"80",unit:"min"},{default:W(()=>[B("Interval voor gat tussen uitlopen "),m.value>0?(S(),E("div",zn,"Gaten van meer dan "+j(m.value)+" minuten krijgen een stippellijntje ",1)):(S(),E("div",Xn,"Uitlopen met veel tijd ertussen worden niet gemarkeerd"))]),_:1},8,["modelValue"]),H(T,{modelValue:h.value,"onUpdate:modelValue":i[7]||(i[7]=r=>h.value=r),identifier:"calculatePostCredits"},{default:W(()=>[B(" Post-credits-scènes meerekenen "),h.value?(S(),E("div",Yn," Bij uitlopen met post-credits-scènes wordt de tijd 'Einde voorstelling' wordt gebruikt voor het berekenen van de tijd tot de volgende uitloop. ")):(S(),E("div",Jn," Bij alle uitlopen wordt de tijd 'Aftiteling' wordt gebruikt voor het berekenen van de tijd tot de volgende uitloop. "))]),_:1},8,["modelValue"]),d("div",qn,[H(b,{onClick:F(L)},{default:W(()=>[B(" Afdrukken")]),_:1},8,["onClick"])])])])],512)):X("",!0)]),H(ze,null,{default:W(()=>[u.value?(S(),Ye(C,{key:0,class:"dark",x:p.value,y:v.value,onClickOutside:f},{default:W(()=>[d("button",{onClick:i[8]||(i[8]=r=>{O.value.at(x.value).preferToiletRound=!w.value.preferToiletRound,f()})},[d("div",{class:Y(["check",{empty:!U.value.at(x.value).preferToiletRound}])},null,2),B(" Toiletronde na deze uitloop ")]),d("button",{onClick:i[9]||(i[9]=r=>{F(c).has(w.value.title)?F(c).delete(w.value.title):F(c).add(w.value.title),f()})},[d("div",{class:Y(["check",{empty:!F(c).has(w.value.title)}])},null,2),B(" Post-credits-scène bij "+j(w.value.title),1)])]),_:1},8,["x","y"])):X("",!0)]),_:1})],64)}}},Qn=ue(Zn,[["__scopeId","data-v-1ee59751"]]);export{Qn as default};
