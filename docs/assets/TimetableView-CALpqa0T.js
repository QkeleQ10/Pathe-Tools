import{u as X,o as Ce,n as ae,r as P,a as Ue,w as Ie,g as Le,b as Oe,c as $e,s as Fe,d as me,e as _,f as b,h as se,i as We,_ as ce,m as Ne,j as Me,k as r,l as pe,v as Be,t as R,p as H,q as K,x as He,y as Ge,z as Q,A as ve,F as ue,B as ge,C as B,D as $,T as ze,E as Xe,G as F,H as Ye,I as Je,J as qe,K as Ke}from"./index-DWXlA7e5.js";function Ze(e){return Le()?(Oe(e),!0):!1}function fe(e){return typeof e=="function"?e():X(e)}const Pe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Qe=Object.prototype.toString,et=e=>Qe.call(e)==="[object Object]",re=()=>{},tt=nt();function nt(){var e,t;return Pe&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ot(e,t){function n(...o){return new Promise((l,v)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(l).catch(v)})}return n}const je=e=>e();function st(e=je){const t=P(!0);function n(){t.value=!1}function o(){t.value=!0}const l=(...v)=>{t.value&&e(...v)};return{isActive:Ue(t),pause:n,resume:o,eventFilter:l}}function it(e){return $e()}function lt(e,t,n={}){const{eventFilter:o=je,...l}=n;return Ie(e,ot(o,t),l)}function Re(e,t,n={}){const{eventFilter:o,...l}=n,{eventFilter:v,pause:h,resume:a,isActive:w}=st(o);return{stop:lt(e,t,{...l,eventFilter:v}),pause:h,resume:a,isActive:w}}function rt(e,t=!0,n){it()?Ce(e,n):t?e():ae(e)}function ee(e){var t;const n=fe(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ne=Pe?window:void 0;function Z(...e){let t,n,o,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,l]=e,t=ne):[t,n,o,l]=e,!t)return re;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const v=[],h=()=>{v.forEach(s=>s()),v.length=0},a=(s,p,c,m)=>(s.addEventListener(p,c,m),()=>s.removeEventListener(p,c,m)),w=Ie(()=>[ee(t),fe(l)],([s,p])=>{if(h(),!s)return;const c=et(p)?{...p}:p;v.push(...n.flatMap(m=>o.map(k=>a(s,m,k,c))))},{immediate:!0,flush:"post"}),d=()=>{w(),h()};return Ze(d),d}let ye=!1;function at(e,t,n={}){const{window:o=ne,ignore:l=[],capture:v=!0,detectIframe:h=!1}=n;if(!o)return re;tt&&!ye&&(ye=!0,Array.from(o.document.body.children).forEach(c=>c.addEventListener("click",re)),o.document.documentElement.addEventListener("click",re));let a=!0;const w=c=>l.some(m=>{if(typeof m=="string")return Array.from(o.document.querySelectorAll(m)).some(k=>k===c.target||c.composedPath().includes(k));{const k=ee(m);return k&&(c.target===k||c.composedPath().includes(k))}}),s=[Z(o,"click",c=>{const m=ee(e);if(!(!m||m===c.target||c.composedPath().includes(m))){if(c.detail===0&&(a=!w(c)),!a){a=!0;return}t(c)}},{passive:!0,capture:v}),Z(o,"pointerdown",c=>{const m=ee(e);a=!w(c)&&!!(m&&!c.composedPath().includes(m))},{passive:!0}),h&&Z(o,"blur",c=>{setTimeout(()=>{var m;const k=ee(e);((m=o.document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!(k!=null&&k.contains(o.document.activeElement))&&t(c)},0)})].filter(Boolean);return()=>s.forEach(c=>c())}const ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le="__vueuse_ssr_handlers__",ct=ut();function ut(){return le in ie||(ie[le]=ie[le]||{}),ie[le]}function dt(e,t){return ct[e]||t}function pt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ft={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},_e="vueuse-storage";function ht(e,t,n,o={}){var l;const{flush:v="pre",deep:h=!0,listenToStorageChanges:a=!0,writeDefaults:w=!0,mergeDefaults:d=!1,shallow:s,window:p=ne,eventFilter:c,onError:m=S=>{console.error(S)},initOnMounted:k}=o,C=(s?Fe:P)(typeof t=="function"?t():t);if(!n)try{n=dt("getDefaultStorage",()=>{var S;return(S=ne)==null?void 0:S.localStorage})()}catch(S){m(S)}if(!n)return C;const D=fe(t),f=pt(D),T=(l=o.serializer)!=null?l:ft[f],{pause:I,resume:N}=Re(C,()=>z(C.value),{flush:v,deep:h,eventFilter:c});p&&a&&rt(()=>{Z(p,"storage",G),Z(p,_e,L),k&&G()}),k||G();function q(S,x){p&&p.dispatchEvent(new CustomEvent(_e,{detail:{key:e,oldValue:S,newValue:x,storageArea:n}}))}function z(S){try{const x=n.getItem(e);if(S==null)q(x,null),n.removeItem(e);else{const g=T.write(S);x!==g&&(n.setItem(e,g),q(x,g))}}catch(x){m(x)}}function U(S){const x=S?S.newValue:n.getItem(e);if(x==null)return w&&D!=null&&n.setItem(e,T.write(D)),D;if(!S&&d){const g=T.read(x);return typeof d=="function"?d(g,D):f==="object"&&!Array.isArray(g)?{...D,...g}:g}else return typeof x!="string"?x:T.read(x)}function G(S){if(!(S&&S.storageArea!==n)){if(S&&S.key==null){C.value=D;return}if(!(S&&S.key!==e)){I();try{(S==null?void 0:S.newValue)!==T.write(C.value)&&(C.value=U(S))}catch(x){m(x)}finally{S?ae(N):N()}}}}function L(S){G(S.detail)}return C}function mt(e="history",t={}){const{initialValue:n={},removeNullishValues:o=!0,removeFalsyValues:l=!1,write:v=!0,window:h=ne}=t;if(!h)return me(n);const a=me({});function w(){if(e==="history")return h.location.search||"";if(e==="hash"){const f=h.location.hash||"",T=f.indexOf("?");return T>0?f.slice(T):""}else return(h.location.hash||"").replace(/^#/,"")}function d(f){const T=f.toString();if(e==="history")return`${T?`?${T}`:""}${h.location.hash||""}`;if(e==="hash-params")return`${h.location.search||""}${T?`#${T}`:""}`;const I=h.location.hash||"#",N=I.indexOf("?");return N>0?`${I.slice(0,N)}${T?`?${T}`:""}`:`${I}${T?`?${T}`:""}`}function s(){return new URLSearchParams(w())}function p(f){const T=new Set(Object.keys(a));for(const I of f.keys()){const N=f.getAll(I);a[I]=N.length>1?N:f.get(I)||"",T.delete(I)}Array.from(T).forEach(I=>delete a[I])}const{pause:c,resume:m}=Re(a,()=>{const f=new URLSearchParams("");Object.keys(a).forEach(T=>{const I=a[T];Array.isArray(I)?I.forEach(N=>f.append(T,N)):o&&I==null||l&&!I?f.delete(T):f.set(T,I)}),k(f)},{deep:!0});function k(f,T){c(),T&&p(f),h.history.replaceState(h.history.state,h.document.title,h.location.pathname+d(f)),m()}function C(){v&&k(s(),!0)}Z(h,"popstate",C,!1),e!=="history"&&Z(h,"hashchange",C,!1);const D=s();return D.keys().next().value?p(D):Object.assign(a,n),a}const vt={__name:"ContextMenu",props:["x","y"],emits:["click-outside"],setup(e,{emit:t}){const n=t,o=P(null);return at(o,l=>n("click-outside",l)),(l,v)=>(_(),b("div",{class:"context-menu",ref_key:"target",ref:o,style:We({top:e.y+"px",left:e.x+"px"})},[se(l.$slots,"default")],4))}},gt={};function yt(e,t){return _(),b("span",null,[se(e.$slots,"default",{},void 0,!0)])}const _t=ce(gt,[["render",yt],["__scopeId","data-v-38082d63"]]),bt=["for"],wt={class:"title"},St=["id"],Tt={key:0,class:"unit"},Et={__name:"InputNumber",props:Ne(["unit","identifier"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Me(e,"modelValue");return(n,o)=>(_(),b("label",{class:"input-slider",for:e.identifier},[r("div",wt,[se(n.$slots,"default",{},void 0,!0)]),r("div",{class:K(["input",{"has-unit":!!e.unit}])},[pe(r("input",{type:"number",inputmode:"numeric",pattern:"[0-9]+",name:"",id:e.identifier,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l)},null,8,St),[[Be,t.value,void 0,{number:!0}]]),e.unit?(_(),b("span",Tt,R(e.unit),1)):H("",!0)],2)],8,bt))}},kt=ce(Et,[["__scopeId","data-v-c05abef1"]]),xt=["for"],At={class:"title"},Dt=["id"],Ct={__name:"InputCheckbox",props:Ne(["identifier"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Me(e,"modelValue");return(n,o)=>(_(),b("label",{class:"input-slider",for:e.identifier},[r("div",At,[se(n.$slots,"default",{},void 0,!0)]),pe(r("input",{type:"checkbox",name:"",id:e.identifier,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l)},null,8,Dt),[[He,t.value]])],8,xt))}},It=ce(Ct,[["__scopeId","data-v-10167d1f"]]),Nt=["data-active"],Mt={__name:"DropZone",emits:["files-dropped"],setup(e,{emit:t}){const n=t;let o=P(!1),l=null;function v(){o.value=!0,clearTimeout(l)}function h(){l=setTimeout(()=>{o.value=!1},50)}function a(s){h(),n("files-dropped",[...s.dataTransfer.files])}function w(s){s.preventDefault()}const d=["dragenter","dragover","dragleave","drop"];return Ce(()=>{d.forEach(s=>{document.body.addEventListener(s,w)})}),Ge(()=>{d.forEach(s=>{document.body.removeEventListener(s,w)})}),(s,p)=>(_(),b("div",{"data-active":X(o),onDragenter:Q(v,["prevent"]),onDragover:Q(v,["prevent"]),onDragleave:Q(h,["prevent"]),onDrop:Q(a,["prevent"])},[se(s.$slots,"default",{dropZoneActive:X(o)})],40,Nt))}};var Pt=Object.defineProperty,be=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,we=(e,t,n)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Se=(e,t)=>{for(var n in t||(t={}))jt.call(t,n)&&we(e,n,t[n]);if(be)for(var n of be(t))Rt.call(t,n)&&we(e,n,t[n]);return e},oe=(e,t,n)=>new Promise((o,l)=>{var v=w=>{try{a(n.next(w))}catch(d){l(d)}},h=w=>{try{a(n.throw(w))}catch(d){l(d)}},a=w=>w.done?o(w.value):Promise.resolve(w.value).then(v,h);a((n=n.apply(e,t)).next())});function de(e){return!!e.shadowRoot}let Te=!1;function Vt(){if(Te)return;class e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}}customElements.define("vue-to-print-shadow-dom",e),Te=!0}const Ut=`
  class VueToPrintShadowDom extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({ mode: 'open' });
    }
  }
  customElements.define('vue-to-print-shadow-dom', VueToPrintShadowDom);
`;function Lt(e){const t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("vue-to-print-custom-script","registry-shadow-dom"),t.innerHTML=Ut,e.body.appendChild(t)}const Ot=`
  function retrieveStyleSheets(styleSheetMap) {
    styleSheetMap.forEach((styleSheetStrings, tagName) => {
      const styleSheets = [];
      for (let i = styleSheetStrings.length; i--;) {
        const styleSheet = new CSSStyleSheet();
        styleSheet.replaceSync(styleSheetStrings[i]);
        styleSheets.push(styleSheet);
      }

      const elements = document.querySelectorAll('vue-to-print-shadow-dom[original-tag-name=' + tagName + ']');
      for (let i = elements.length; i--;) {
        const element = elements[i];
        element.shadowRoot.adoptedStyleSheets = styleSheets;
      }
    });
  }
`;function $t(e){const t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("vue-to-print-custom-script","registry-retrieve-style-sheets-func"),t.innerHTML=Ot,e.body.appendChild(t)}const te=new Map;function Ee(e){Vt();const t=e.nodeName.toLowerCase(),n=e.shadowRoot.adoptedStyleSheets,o=document.createElement("vue-to-print-shadow-dom");o.setAttribute("original-tag-name",t),te.has(t)||te.set(t,new Set);const l=te.get(t);for(let a=n.length;a--;)l.add(n[a]);const v=o.attributes,h=e.attributes;for(let a=h.length;a--;)v.setNamedItem(h[a].cloneNode());return o}function Ft(){const e=new Map,t=new Map,n=Array.from(te.keys());for(let o=n.length;o--;){const l=[],v=n[o],h=Array.from(te.get(v));for(let a=h.length;a--;){const w=h[a];if(!t.has(w)){let d="";const s=Array.from(w.cssRules);for(let p=s.length;p--;)d+=s[p].cssText;t.set(w,d)}l.push(t.get(w))}e.set(v,l)}return e}function Wt(e){const t=e.contentWindow||null;if(!t)throw new Error("Cannot access print window");const n=t.document;if(!n)throw new Error("Cannot access print document");Lt(n),$t(n);const o=Ft();t.retrieveStyleSheets(o)}function ke(e){return!!customElements.get(e.nodeName.toLowerCase())}let xe=!1;function Bt(){if(xe)return;class e extends HTMLElement{constructor(){super()}}customElements.define("vue-to-print-custom-element",e),xe=!0}function Ae(e){Bt();const t=e.nodeName.toLowerCase(),n=document.createElement("vue-to-print-custom-element");n.setAttribute("original-tag-name",t);const o=n.attributes,l=e.attributes;for(let v=l.length;v--;)o.setNamedItem(l[v].cloneNode());return n}function Ve(e){return oe(this,null,function*(){e.getAttribute("src")&&(e.complete||(yield new Promise((t,n)=>{e.addEventListener("load",t,{once:!0}),e.addEventListener("error",o=>n(o.error),{once:!0})})))})}function Ht(e){return oe(this,null,function*(){e.readyState>=2||(yield new Promise((t,n)=>{e.addEventListener("loadeddata",t,{once:!0}),e.addEventListener("error",o=>n(o.error),{once:!0}),e.addEventListener("stalled",()=>n(new Error("Loading video stalled, skipping")),{once:!0})}))})}function Gt(e){const t=e.cloneNode(),n=t.getContext("2d");return n&&n.drawImage(e,0,0),t}function zt(e,t){const n=e.cloneNode();return t.push(Ve(n)),n}function Xt(e,t){const n=e.cloneNode();n.preload="auto";const o=n.getAttribute("poster");if(o){const l=new Image;l.src=o,t.push(Ve(l))}else t.push(Ht(n));return n}function Yt(e){const t=e.cloneNode();switch(e.type){case"checkbox":case"radio":t.checked=e.checked;break;default:t.value=e.value;break}return t}function Jt(e){const t=e.cloneNode();return t.value=e.value,t}function qt(e){const t=e.cloneNode();return t.selected=e.selected,t}const De=new Map([["canvas",Gt],["img",zt],["video",Xt],["input",Yt],["select",Jt],["option",qt]]);function Kt(e){return e.cloneNode()}function Zt(e,t=[]){const n=e.nodeName.toLowerCase();return(De.has(n)?De.get(n):Kt)(e,t)}function Qt(e){var t;if(e.nodeName.toLowerCase()==="slot"){const n=e.assignedNodes();return n.length>0?n:Array.from(e.childNodes)}else return Array.from(((t=e.shadowRoot)!=null?t:e).childNodes)}function en(e){return oe(this,null,function*(){const t=new Map,n=[];let o;de(e)?o=Ee(e):ke(e)?o=Ae(e):o=e.cloneNode(),t.set(e,o);const l=[e];for(;l.length;){const v=l.shift(),h=Qt(v);if(h.length<=0)continue;const a=t.get(v),w=de(a)?a.shadowRoot:a;for(let d=0;d<h.length;d++){const s=h[d];let p;de(s)?p=Ee(s):ke(s)?p=Ae(s):p=Zt(s,n),t.set(s,p),l.push(s),w.appendChild(p)}}return yield Promise.all(n),o})}const tn={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1};function nn(e){e=Se(Se({},tn),e);let t=0,n=[],o=[];const l=s=>{const{onAfterPrint:p,onPrintError:c,print:m,documentTitle:k}=e;setTimeout(()=>{var C,D;if(s.contentWindow)if(s.contentWindow.focus(),m)m(s).then(()=>p==null?void 0:p()).then(()=>w()).catch(f=>{c?c("print",f):d(["An error was thrown by the specified `print` function"])});else{if(s.contentWindow.print){const f=(D=(C=s.contentDocument)==null?void 0:C.title)!=null?D:"",T=s.ownerDocument.title;k&&(s.ownerDocument.title=k,s.contentDocument&&(s.contentDocument.title=k)),s.contentWindow.print(),k&&(s.ownerDocument.title=T,s.contentDocument&&(s.contentDocument.title=f))}else d(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);p==null||p(),w()}else d(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `vue-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},v=s=>{const{onBeforePrint:p,onPrintError:c}=e;if(p){const m=p();m&&typeof m.then=="function"?m.then(()=>{l(s)}).catch(k=>{c&&c("onBeforePrint",k)}):l(s)}else l(s)},h=()=>{const{onBeforeGetContent:s,onPrintError:p}=e;if(s){const c=s();c&&typeof c.then=="function"?c.then(a).catch(m=>{p&&p("onBeforeGetContent",m)}):a()}else a()},a=()=>oe(this,null,function*(){const{bodyClass:s,content:p,copyStyles:c,fonts:m,pageStyle:k,nonce:C}=e,D=p();if(D===void 0){d(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"]);return}if(D===null){d(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "vue-to-print" to be called.']);return}const f=document.createElement("iframe");f.width=`${document.documentElement.clientWidth}px`,f.height=`${document.documentElement.clientHeight}px`,f.style.position="absolute",f.style.top=`-${document.documentElement.clientHeight+100}px`,f.style.left=`-${document.documentElement.clientWidth+100}px`,f.id="printWindow",f.srcdoc="<!DOCTYPE html>";const T=D;if(!T){d(['"vue-to-print" could not locate the DOM node corresponding with the `content` prop']);return}const I=yield en(T),N=document.querySelectorAll("link[rel~='stylesheet']"),q=m?m.length:0;t=N.length+q,n=[],o=[];const z=(U,G)=>{if(n.includes(U)){d(["Tried to mark a resource that has already been handled",U],"debug");return}G?(d(['"vue-to-print" was unable to load a resource but will continue attempting to print the page',...G]),o.push(U)):n.push(U),n.length+o.length===t&&v(f)};f.onload=()=>oe(this,null,function*(){var U,G;f.onload=null;const L=f.contentDocument||((U=f.contentWindow)==null?void 0:U.document);if(L){L.body.appendChild(I),m&&((G=f.contentDocument)!=null&&G.fonts&&typeof FontFace<"u"?m.forEach(x=>{const g=new FontFace(x.family,x.source,{weight:x.weight,style:x.style});f.contentDocument.fonts.add(g),g.loaded.then(()=>{z(g)}).catch(u=>{z(g,["Failed loading the font:",g,"Load error:",u])})}):(m.forEach(x=>z(x)),d(['"vue-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));const S=typeof k=="function"?k():k;if(typeof S!="string")d([`"vue-to-print" expected a "string" from \`pageStyle\` but received "${typeof S}". Styles from \`pageStyle\` will not be applied.`]);else{const x=L.createElement("style");C&&(x.setAttribute("nonce",C),L.head.setAttribute("nonce",C)),x.appendChild(L.createTextNode(S)),L.head.appendChild(x)}if(s&&L.body.classList.add(...s.split(" ")),c){const x=document.querySelectorAll("style, link[rel~='stylesheet']");for(let g=0,u=x.length;g<u;++g){const E=x[g];if(E.tagName.toLowerCase()==="style"){const y=L.createElement(E.tagName),A=E.sheet;if(A){let M="";try{const j=A.cssRules.length;for(let W=0;W<j;++W)typeof A.cssRules[W].cssText=="string"&&(M+=`${A.cssRules[W].cssText}\r
`)}catch{d(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",E],"warning")}y.setAttribute("id",`vue-to-print-${g}`),C&&y.setAttribute("nonce",C),y.appendChild(L.createTextNode(M)),L.head.appendChild(y)}}else if(E.getAttribute("href"))if(E.hasAttribute("disabled"))d(["`vue-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",E],"warning"),z(E);else{const y=L.createElement(E.tagName);for(let A=0,M=E.attributes.length;A<M;++A){const j=E.attributes[A];j&&y.setAttribute(j.nodeName,j.nodeValue||"")}y.onload=()=>z(y),y.onerror=(A,M,j,W,i)=>z(y,["Failed to load",y,"Error:",i]),C&&y.setAttribute("nonce",C),L.head.appendChild(y)}else d(["`vue-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",E],"warning"),z(E)}}}Wt(f),(t===0||!c)&&v(f)}),w(!0),document.body.appendChild(f)}),w=s=>{const{removeAfterPrint:p}=e;if(s||p){const c=document.getElementById("printWindow");c&&document.body.removeChild(c)}},d=(s,p="error")=>{const{suppressErrors:c}=e;c||(p==="error"?console.error(s):p==="warning"?console.warn(s):p==="debug"&&console.debug(s))};return{handlePrint:h}}const V=e=>(Je("data-v-2a92779d"),e=e(),qe(),e),on={class:"container dark"},sn={key:0,id:"theatre"},ln=V(()=>r("h2",null,"Theater selecteren",-1)),rn={class:"flex"},an=["onClick"],cn=["src"],un={style:{"z-index":"1"}},dn={key:1,id:"upload"},pn=V(()=>r("h2",null,"Bestand uploaden",-1)),fn={key:0},hn=V(()=>r("div",null,"Laat los om te uploaden",-1)),mn=V(()=>r("div",{class:"small"},"CSV-bestand",-1)),vn=[hn,mn],gn={key:1},yn=V(()=>r("div",null,"Sleep een bestand hierheen",-1)),_n=V(()=>r("div",{class:"small"},"CSV-bestand",-1)),bn=[yn,_n],wn=V(()=>r("h2",null,"Tijdenlijstje bewerken",-1)),Sn={class:"flex",style:{"flex-wrap":"wrap"}},Tn={spellcheck:"false"},En=V(()=>r("col",{span:"1",style:{width:"0"}},null,-1)),kn=V(()=>r("col",{span:"1",style:{width:"0"}},null,-1)),xn=V(()=>r("col",{span:"1",style:{width:"16%"}},null,-1)),An=V(()=>r("col",{span:"1",style:{width:"28%"}},null,-1)),Dn={key:0,span:"1",style:{width:"0"}},Cn={key:1,span:"1",style:{width:"0"}},In=V(()=>r("col",{span:"1",style:{width:"50%"}},null,-1)),Nn=V(()=>r("col",{span:"1",style:{width:"0"}},null,-1)),Mn=V(()=>r("td",{nowrap:"",contenteditable:"",width:"1px"},"Zaal",-1)),Pn=V(()=>r("td",{nowrap:"",contenteditable:""},"Inloop",-1)),jn=V(()=>r("td",{nowrap:"",contenteditable:""},null,-1)),Rn=V(()=>r("td",{nowrap:"",contenteditable:""},"Aftiteling",-1)),Vn={key:0,nowrap:"",contenteditable:""},Un={key:1,nowrap:"",contenteditable:""},Ln=V(()=>r("td",{nowrap:"",contenteditable:""},"Film",-1)),On=V(()=>r("td",{nowrap:"",contenteditable:""},null,-1)),$n=["onContextmenu"],Fn={nowrap:"",contenteditable:""},Wn={nowrap:"",contenteditable:""},Bn=["onDblclick"],Hn={key:1},Gn={nowrap:""},zn={key:0,class:"double-usherout"},Xn={key:1,class:"long-gap"},Yn={key:2,class:"plf-overlap"},Jn={contenteditable:"",style:{position:"absolute",inset:"0",padding:"2px 6px",display:"flex","align-items":"center"}},qn={key:0,style:{opacity:".35","font-weight":"100","font-style":"normal","margin-left":"4px"}},Kn={key:2,nowrap:"",contenteditable:"",class:"translucent",style:{"font-weight":"100","font-style":"normal"}},Zn={key:3,nowrap:"",contenteditable:"",class:"translucent",style:{"font-weight":"100","font-style":"normal"}},Qn={key:4,nowrap:"",contenteditable:""},eo={style:{float:"right"}},to={key:5,nowrap:"",contenteditable:""},no=V(()=>r("div",{class:"custom-content",contenteditable:""},null,-1)),oo={class:"footer"},so={id:"parameters",style:{display:"flex","flex-direction":"column",flex:"229px 1 1"}},io={key:0,class:"small"},lo={key:1,class:"small"},ro={key:0,class:"small"},ao={key:1,class:"small"},co={key:0,class:"small"},uo={key:1,class:"small"},po={key:0,class:"small"},fo={key:1,class:"small"},ho={key:0,class:"small"},mo={key:1,class:"small"},vo={class:"buttons",style:{display:"flex","flex-direction":"column",gap:"16px","align-items":"stretch","margin-top":"auto",position:"sticky",bottom:"16px","padding-inline":"16px"}},go={__name:"TimetableView",setup(e){const t=P(!0),n=P(!1),o=P(!1),l=P(17),v=P(16),h=P(10),a=P(35),w=P(!0),d=ht("post-credits-films",new Set);for(;d.value.size>20;)console.log(d.value),d.value.delete(Array.from(d.value)[0]);const s=P(null),p=P(null),c=P(null),m=P(!1),k=P(0),C=P(0),D=P({}),f=P(0),T=(g,u,E)=>{g.preventDefault(),document.activeElement.blur(),m.value=!0,D.value=u,f.value=E,k.value=g.clientX,C.value=g.clientY},I=()=>{ae(()=>m.value=!1)},N=mt("history"),q=[{id:"pulr",name:"Pathé Utrecht Leidsche Rijn",image:"https://media.pathe.nl/gfx_content//bioscoop/LeidscheRijn-pulr_foto_1600x590.png"}];N.theatre??(N.theatre=q[0].id);const z=ve(()=>q.find(g=>g.id===N.theatre)),U=P([]),G=ve(()=>{let g=U.value.map((u,E)=>{var A,M,j,W,i,O;let y={...u};return y.extra=(j=(M=(A=u.PLAYLIST)==null?void 0:A.match(/(\s((4DX)|(ATMOS)|(3D)|(Music)|(ROOFTOP)|(PrideNight)|(Ladies)|(Premiere)|(\([A-Z]+\))))+/))==null?void 0:M[0])==null?void 0:j.slice(1),y.title=(W=u.PLAYLIST)==null?void 0:W.replace(y.extra,""),y.overlapWithPlf=U.value.filter(Y=>{var J;return(J=Y.AUDITORIUM)==null?void 0:J.includes("4DX")}).some(Y=>S(Y.SCHEDULED_TIME,u.CREDITS_TIME)>=l.value*-6e4&&S(Y.SCHEDULED_TIME,u.CREDITS_TIME)<=v.value*6e4),y.hasPostCredits=d.value.has(y.title),y.timeToNextUsherout=S(y.hasPostCredits&&w.value?u.END_TIME:u.CREDITS_TIME,(i=U.value.at(E+1))==null?void 0:i.CREDITS_TIME),y.nextStartTime=(O=U.value.find((Y,J)=>J>E&&Y.AUDITORIUM===u.AUDITORIUM))==null?void 0:O.SCHEDULED_TIME,y.timeToNextStart=S(y.hasPostCredits&&w.value?u.END_TIME:u.CREDITS_TIME,y.nextStartTime),y});return g.filter(u=>{var E;return(E=u.AUDITORIUM)==null?void 0:E.includes("4DX")}).slice(1).forEach(u=>{let E;for(let y=0;y<g.length;y++){const A=g[y];if(S(u.SCHEDULED_TIME,A.CREDITS_TIME)>0){E=y-1;break}}g.at(E).isNearPlf=!0}),g||[]});async function L(g){var j;if(((j=g==null?void 0:g[0])==null?void 0:j.type)!=="text/csv")return;const E=(await g[0].text()).split(`
`);let y=[];const A=E[0].split(",");for(var M=0;M<E.length;M++){const W=E[M].split(",");let i={};for(let O=0;O<W.length;O++)i[A[O].trim()]=W[O].trim();y.push(i)}U.value=y,ae(()=>{c.value.scrollIntoView({behavior:"smooth"})})}function S(g,u){function E(W){const[i,O,Y]=W.split(":").map(Number),J=new Date;return new Date(J.getFullYear(),J.getMonth(),J.getDate(),i,O,Y)}if(!g||!u)return;const y=E(g),A=E(u),M=A-y;A.setDate(A.getDate()+1);const j=A-y;return Math.abs(M)<Math.abs(j)?M:j}const{handlePrint:x}=nn({content:()=>p.value,documentTitle:"Tijdenlijstje"});return(g,u)=>{const E=Xe,y=Mt,A=It,M=kt,j=_t,W=vt;return _(),b(ue,null,[r("div",on,[X(N).theatre&&q.length<2?H("",!0):(_(),b("section",sn,[ln,r("div",rn,[(_(),b(ue,null,ge(q,i=>r("button",{class:K(["theatre-button",{selected:i.id===X(N).theatre}]),onClick:O=>z.value.id=i.id},[r("img",{src:i.image},null,8,cn),r("span",un,R(i.name),1)],10,an)),64))])])),X(N).theatre?(_(),b("section",dn,[pn,B(y,{id:"drop-zone",onFilesDropped:L,onClick:u[0]||(u[0]=i=>s.value.click()),style:{cursor:"pointer"}},{default:$(({dropZoneActive:i})=>[i?(_(),b("div",fn,vn)):(_(),b("div",gn,bn)),B(E,{"data-active":i},{default:$(()=>[F("Bladeren...")]),_:2},1032,["data-active"])]),_:1}),r("input",{type:"file",ref_key:"fileInput",ref:s,accept:"text/csv",style:{display:"none"},onChange:u[1]||(u[1]=i=>L(i.target.files))},null,544)])):H("",!0),X(N).theatre&&U.value.length>0?(_(),b("section",{key:2,id:"edit",ref_key:"editSection",ref:c},[wn,r("div",Sn,[r("div",{id:"print-component",ref_key:"printComponent",ref:p},[r("table",Tn,[r("colgroup",null,[En,kn,xn,An,n.value?(_(),b("col",Dn)):H("",!0),o.value?(_(),b("col",Cn)):H("",!0),In,Nn]),r("thead",null,[Mn,Pn,jn,Rn,n.value?(_(),b("td",Vn,"Volgende")):H("",!0),o.value?(_(),b("td",Un,"Volgende")):H("",!0),Ln,On]),(_(!0),b(ue,null,ge(G.value,(i,O)=>{var Y,J;return pe((_(),b("tr",{class:K({targeting:m.value&&f.value===O,italic:(Y=i.AUDITORIUM)==null?void 0:Y.includes("4DX"),bold:i.FEATURE_RATING==="16"||i.FEATURE_RATING==="18"}),onContextmenu:Q(he=>T(he,i,O),["prevent"])},[r("td",Fn,R(z.value.id==="pulr"&&i.AUDITORIUM==="PULR 8"?"RT":i.AUDITORIUM.replace(/^\w+\s/,"")),1),r("td",Wn,R(i.SCHEDULED_TIME.replace(/(:00)$/,"")),1),O!==G.value.length-1?(_(),b("td",{key:0,nowrap:"",contenteditable:"",class:K(["special-cell",{"toilet-round":!!i.preferToiletRound}]),onDblclick:he=>U.value.at(O).preferToiletRound=!i.preferToiletRound},R(i.isNearPlf?"4DX":" "),43,Bn)):(_(),b("td",Hn)),r("td",Gn,[i.timeToNextUsherout<=h.value*6e4?(_(),b("div",zn)):H("",!0),i.timeToNextUsherout>=a.value*6e4&&a.value>0?(_(),b("div",Xn)):H("",!0),i.overlapWithPlf?(_(),b("div",Yn)):H("",!0),r("span",Jn,[F(R(i.CREDITS_TIME)+" ",1),i.hasPostCredits?(_(),b("span",qn,"+")):H("",!0)])]),n.value?(_(),b("td",Kn,R(((J=i.nextStartTime)==null?void 0:J.replace(/(:00)$/,""))||"⏾"),1)):H("",!0),o.value?(_(),b("td",Zn,R(i.timeToNextStart?Math.floor(i.timeToNextStart/6e4)+" min":"⏾"),1)):H("",!0),t.value?(_(),b("td",Qn,[r("span",null,R(i.title),1),r("span",eo,R(i.extra),1)])):(_(),b("td",to,R(i.PLAYLIST),1)),r("td",{nowrap:"",contenteditable:"",style:{"text-align":"end"},class:K({translucent:i.FEATURE_RATING!=="16"&&i.FEATURE_RATING!=="18"})},R(i.FEATURE_RATING),3)],42,$n)),[[Ke,O!=0]])}),256))]),no,r("div",oo," gegenereerd op "+R(new Date().toLocaleDateString("nl-NL",{weekday:"short",day:"numeric",month:"short",year:"numeric"}))+" om "+R(new Date().toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit"}))+" • "+R(z.value.name)+" • Quinten Althues ",1)],512),r("div",so,[B(A,{modelValue:t.value,"onUpdate:modelValue":u[2]||(u[2]=i=>t.value=i),identifier:"splitExtra"},{default:$(()=>[F(" Extra informatie scheiden van filmtitel ")]),_:1},8,["modelValue"]),B(M,{modelValue:l.value,"onUpdate:modelValue":u[3]||(u[3]=i=>l.value=i),modelModifiers:{number:!0},identifier:"plfTimeBefore",min:"0",max:"30",unit:"min"},{default:$(()=>[F(" Tijd vóór inloop 4DX "),l.value>0?(_(),b("div",io,"Uitlopen vanaf "+R(l.value)+" minuten voor een 4DX-inloop krijgen een streeplijntje",1)):(_(),b("div",lo,"Uitlopen vlak voor een 4DX-inloop worden niet gemarkeerd"))]),_:1},8,["modelValue"]),B(M,{modelValue:v.value,"onUpdate:modelValue":u[4]||(u[4]=i=>v.value=i),modelModifiers:{number:!0},identifier:"plfTimeAfter",min:"0",max:"30",unit:"min"},{default:$(()=>[F(" Tijd na inloop 4DX "),v.value>0?(_(),b("div",ro,"Uitlopen tot "+R(v.value)+" minuten na een 4DX-inloop krijgen een streeplijntje",1)):(_(),b("div",ao,"Uitlopen vlak na een 4DX-inloop worden niet gemarkeerd"))]),_:1},8,["modelValue"]),B(M,{modelValue:h.value,"onUpdate:modelValue":u[5]||(u[5]=i=>h.value=i),modelModifiers:{number:!0},identifier:"shortGapInterval",min:"0",max:"20",unit:"min"},{default:$(()=>[F("Interval voor dubbele uitloop "),h.value>0?(_(),b("div",co,"Uitlopen met minder dan "+R(h.value)+" minuten ertussen krijgen een boogje",1)):(_(),b("div",uo,"Uitlopen met weinig tijd ertussen worden niet gemarkeerd"))]),_:1},8,["modelValue"]),B(M,{modelValue:a.value,"onUpdate:modelValue":u[6]||(u[6]=i=>a.value=i),modelModifiers:{number:!0},identifier:"longGapInterval",min:"20",max:"80",unit:"min"},{default:$(()=>[F("Interval voor gat tussen uitlopen "),a.value>0?(_(),b("div",po,"Gaten van meer dan "+R(a.value)+" minuten krijgen een stippellijntje ",1)):(_(),b("div",fo,"Uitlopen met veel tijd ertussen worden niet gemarkeerd"))]),_:1},8,["modelValue"]),B(A,{modelValue:w.value,"onUpdate:modelValue":u[7]||(u[7]=i=>w.value=i),identifier:"calculatePostCredits"},{default:$(()=>[r("span",null,[B(j,null,{default:$(()=>[F("Nieuw")]),_:1}),F(" Post-credits-scènes meerekenen ")]),w.value?(_(),b("div",ho," Bij uitlopen met post-credits-scènes wordt de tijd 'Einde voorstelling' gebruikt voor het berekenen van de tijd tot de volgende uitloop. ")):(_(),b("div",mo," Bij alle uitlopen wordt de tijd 'Aftiteling' wordt gebruikt voor het berekenen van de tijd tot de volgende uitloop. "))]),_:1},8,["modelValue"]),B(A,{modelValue:n.value,"onUpdate:modelValue":u[8]||(u[8]=i=>n.value=i),identifier:"showNextStartTime"},{default:$(()=>[r("span",null,[B(j,null,{default:$(()=>[F("Nieuw")]),_:1}),F(" Kolom 'Starttijd volgende voorstelling' tonen ")])]),_:1},8,["modelValue"]),B(A,{modelValue:o.value,"onUpdate:modelValue":u[9]||(u[9]=i=>o.value=i),identifier:"showTimeToNextStart"},{default:$(()=>[r("span",null,[B(j,null,{default:$(()=>[F("Nieuw")]),_:1}),F(" Kolom 'Tijd voor schoonmaak' tonen ")])]),_:1},8,["modelValue"]),r("div",vo,[B(E,{onClick:X(x)},{default:$(()=>[F(" Afdrukken")]),_:1},8,["onClick"])])])])],512)):H("",!0)]),B(ze,null,{default:$(()=>[m.value?(_(),Ye(W,{key:0,class:"dark",x:k.value,y:C.value,onClickOutside:I},{default:$(()=>[r("button",{onClick:u[10]||(u[10]=i=>{U.value.at(f.value).preferToiletRound=!D.value.preferToiletRound,I()})},[r("div",{class:K(["check",{empty:!G.value.at(f.value).preferToiletRound}])},null,2),F(" Toiletronde na deze uitloop ")]),r("button",{onClick:u[11]||(u[11]=i=>{X(d).has(D.value.title)?X(d).delete(D.value.title):X(d).add(D.value.title),I()})},[r("div",{class:K(["check",{empty:!X(d).has(D.value.title)}])},null,2),F(" Post-credits-scène bij "+R(D.value.title),1)])]),_:1},8,["x","y"])):H("",!0)]),_:1})],64)}}},_o=ce(go,[["__scopeId","data-v-2a92779d"]]);export{_o as default};
